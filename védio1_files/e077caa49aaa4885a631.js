(this.beop__d=this.beop__d||[]).push([[29],{107:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n(25),r=n(0),o=n(3),a=n(85),s=n(84),d={position:"relative"},l={backgroundColor:"rgba(0, 0, 0, 0.6)",bottom:"0",color:"#fff",display:"flex",left:"0",position:"absolute",right:"0",top:"0",flexDirection:"column"},c={display:"flex",alignItems:"center",flexDirection:"column",flexGrow:"1",justifyContent:"center"},u={fontSize:"24px",fontWeight:"700",margin:"5px 10px",textAlign:"center"},m={fontSize:"14px",margin:"5px 10px",textAlign:"center"},f={margin:"5px 10px"};var v=function(e){var t=e.title,n=e.description,v=e.media,h=e.actionLabel,p=e.onPressAction,x=e.textPosition,I=e.context,g=e.onPressExit,E=e.pixel,y=e.theme,b=void 0!==h?h:"Continuer",A=i.createElement("div",void 0,r.c(r.f(t,(function(e){return i.createElement("div",{role:"heading",style:u},e)})),null),r.c(r.f(n,(function(e){return i.createElement("div",{style:m},e)})),null)),_={title:b,onPress:p,theme:y};void 0!==y.callToActionBorderRadius&&(_.radius=o.d(y.callToActionBorderRadius));var C=i.createElement("div",{style:f},i.createElement(s.a,_)),F=r.c(r.f(v,(function(e){return i.createElement(a.a,{media:e,context:I,onPressExit:g,theme:y,pixel:E})})),null);if("bottom"!==x){if("top"===x)return i.createElement("div",{style:c},A,F,C);if(void 0!==v&&"string"!=typeof v&&"Image"===v.NAME)return i.createElement("div",{style:d},F,i.createElement("div",{style:l},i.createElement("div",{style:c},A,C)))}return i.createElement("div",{style:c},F,A,C)}},122:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i=n(2),r=n(25),o=n(73),a=n(0),s=n(3),d=n(78),l=n(46),c=n(85),u=n(86),m=n(74),f=n(88),v="rgba(0, 0, 0, 0.25)",h={display:"flex",alignItems:"stretch",flexDirection:"column",flexGrow:"1",transition:"200ms ease-out opacity"},p={display:"flex",alignItems:"stretch",flexDirection:"column",flexGrow:"1"};function x(e,t,n){return{border:"1px solid "+(0!==e?t:n?v:"transparent"),display:"flex",padding:"10px",position:"relative",textAlign:"center",whiteSpace:"pre-line",width:"100%",boxShadow:"inset 0px 0px 0px "+(0===e?0:e-1|0)+"px "+t,alignItems:"center",flexGrow:"1",justifyContent:"center",boxSizing:"border-box",wordBreak:"break-word"}}var I={opacity:"0.3"};function g(e){var t=e.questionChoiceBackgroundColor,n=e.questionChoiceOpacity;return{backgroundColor:void 0!==t?t:"rgba(1, 60, 70, "+n+")",color:void 0!==t?"#"+(o.c(t)?"000":"fff"):"#"+(n>.3?"fff":l.b)}}function E(e,t){var n=0===e?0:e-1|0,i=String(2+n|0);return{backgroundColor:"#"+l.b,color:"#fff",boxShadow:"inset 0px 0px 0px "+n+"px "+t+",inset 0 2px 4px "+i+"px "+v}}function y(e){var t=e.questionChoiceBackgroundColor,n=e.questionChoiceOpacity;return d.a(d.a({backgroundColor:void 0!==t?t:"rgba(255, 255, 255, "+n+")",color:void 0!==t?"#"+(o.c(t)?"000":"fff"):"#"+(n>.5?l.b:"fff"),textShadow:n>.5?"none":"0 2px 7px rgba(0, 0, 0, 0.7)"},"backdropFilter","blur(4px)"),"WebkitBackdropFilter","blur(4px)")}var b=d.a(d.a({backgroundColor:"#fff",color:"#"+l.b,textShadow:"0 2px 7px rgba(0, 0, 0, 0.7)"},"backdropFilter","blur(4px)"),"WebkitBackdropFilter","blur(4px)"),A={overflow:"hidden",position:"relative",transform:"translateZ(0)"},_={backgroundImage:"radial-gradient(60px at 100% 0, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 75%)",color:"#fff",height:"60px",position:"absolute",right:"0",top:"0",width:"60px"},C=r.createElement("svg",{"aria-label":"Ouvrir le lien",style:{position:"absolute",right:"5px",top:"5px"},height:"12",width:"12",viewBox:"0 0 15 15"},r.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1"},r.createElement("g",{stroke:"currentColor",strokeWidth:"1.2",transform:"translate(1.000000, -1.000000)"},r.createElement("path",{d:"M12.2,10.5357143 L12.2,14.1785714 C12.2,14.8492029 11.7115834,15.3928571 11.1090909,15.3928571 L1.29090909,15.3928571 C0.688416637,15.3928571 0.2,14.8492029 0.2,14.1785714 L0.2,4.46428571 C0.2,3.79365423 0.688416637,3.25 1.29090909,3.25 L5.10909091,3.25"}),r.createElement("path",{d:"M10.0568542,1.22619048 L10.0568542,9.72619048",transform:"translate(10.056854, 5.476190) rotate(-315.000000) translate(-10.056854, -5.476190) "}),r.createElement("polyline",{points:"8.98877099 5.06213088 11.988771 2.02641659 14.988771 5.06213088",transform:"translate(11.988771, 3.544274) rotate(-315.000000) translate(-11.988771, -3.544274) "}))));var F=function(e){var t,n=e.choice,d=e.minChoiceMediaRatio,l=e.theme,v=e.checked,F=e.disabled,T=e.context,q=e.onPressExit,w=e.onPress,R=e.pixel,L=e.hideText,P=l.questionChoiceBorderWidth,k=void 0!==F&&F,G=a.c(l.questionChoiceBorderColor,"rgba(0, 0, 0, 0.14)"),V=l.questionChoiceBorderRadius+"px",M=Object.assign({},x(P,G,v),{borderBottomLeftRadius:V,borderBottomRightRadius:V}),B=Object.assign({},A,{borderTopLeftRadius:V,borderTopRightRadius:V}),S=Object.assign({},A,{borderRadius:V}),N=Object.assign({},x(P,G,v),{borderRadius:V});if(L)t=null;else{var z=n.valueRich,O=n.value;if(void 0!==z){var j=o.b(l.backgroundColor),U=n.exit;t=r.createElement(r.Fragment,void 0,r.createElement("style",void 0,u.b),r.createElement("div",{style:Object.assign({},a.e(n.media)?M:N,j?v?b:y(l):v?E(P,G):g(l))},r.createElement("div",{className:u.a,dangerouslySetInnerHTML:{__html:z}}),void 0===U||U.value._0.openingType?null:C))}else{var D=o.b(l.backgroundColor),W=n.exit;t=r.createElement("div",{style:Object.assign({},a.e(n.media)?M:N,D?v?b:y(l):v?E(P,G):g(l))},r.createElement("div",void 0,O),void 0===W||W.value._0.openingType?null:C)}}return r.createElement(m.a,{onPress:w,onClick:function(e){var t=n.exit;if(void 0!==t&&!t.value._0.openingType)return i.c(q,e,T,t)},style:h,disabled:k,disabledStyle:I,children:r.createElement("div",{className:f.d,style:p},r.createElement("div",{style:L?S:B},a.c(a.f(n.media,(function(e){var t={media:e,context:T,onPressExit:q,theme:l,pixel:R};void 0!==d&&(t.minRatio=s.d(d));var i=L?n.value:void 0;void 0!==i&&(t.alternativeText=s.d(i));var o=n.exit;return r.createElement(r.Fragment,void 0,r.createElement(c.a,t),void 0!==o&&!o.value._0.openingType&&L?r.createElement("div",{style:_},C):null)})),null)),t)})}},149:function(e,t,n){"use strict";var i=n(25),r=n(20),o=n(17),a=n(1),s=n(26),d=n(0),l=n(91),c=n(3),u=n(6),m=n(92),f=n(77),v=n(79),h=n(132),p=n(89),x=n(2),I=n(75),g=n(74);var E=function(e){var t=e.initiallyOpenItems,n=e.items,r=e.renderHeader,o=e.renderItem,s=I.a((function(e){return{openItems:d.c(t,void 0)}}),(function(e,t){return e.TAG?{TAG:0,_0:{openItems:l.e(t.openItems,e._0)}}:{TAG:0,_0:{openItems:l.a(t.openItems,e._0)}}})),c=s[1],u=s[0];return i.createElement("div",void 0,a.o(n,(function(e,t){var n=l.d(u.openItems,e);return i.createElement("div",{key:""+e},i.createElement(g.a,{onPress:function(t){return n?x.a(c,{TAG:1,_0:e}):x.a(c,{TAG:0,_0:e})},children:x.c(r,n,e,t)}),n?x.b(o,e,t):null)})))},y=n(80);n.d(t,"a",(function(){return C}));var b={display:"flex",padding:"10px 20px",alignItems:"center",flexDirection:"row",justifyContent:"center"},A={marginLeft:"10px",textAlign:"center"};function _(e){var t=e.isOpen,n=e.index+1|0;return i.createElement("div",{style:b},i.createElement("svg",{style:{transition:"200ms ease-out transform",transform:t?"rotate(90deg)":""},height:"12",width:"7",viewBox:"0 0 7 12"},i.createElement("polyline",{fill:"none",points:"0.625564037 0.171283071 6.15126842 5.69698746 0.625564037 11.2226918",stroke:"#46515B",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1"})),i.createElement("div",{style:A},r.f("Question {{index}}",[["index",""+n]])))}var C=function(e){var t,n=e.apiUrl,r=e.survey,x=e.questions,I=e.slotName,g=e.credentials,b=e.insertionId,A=e.creative,C=e.theme,F=e.context,T=e.onPressExit,q=e.pixel,w=e.ownerId,R=e.commit,L=e.onCommitChange,P=e.sessionId,k=e.publisherId,G=e.externalLogStatus,V=e.requestExternalLog;if(i.useEffect((function(){u.d(F)&&s.c(q,{TAG:19,_0:F})}),[]),r.hideResults){var M={showCheck:r.showEndscreenCheck};void 0!==r.hiddenResultsMessage&&(M.thanksMessage=c.d(r.hiddenResultsMessage)),void 0!==r.hiddenResultsMessageRich&&(M.thanksMessageRich=c.d(r.hiddenResultsMessageRich)),t=i.createElement(i.Fragment,void 0,i.createElement(p.a,M),d.c(d.f(r.resultExit,(function(e){return i.createElement(y.a,{children:i.createElement(v.a,{exit:e,context:F,onPress:T,theme:C})})})),null),d.c(d.f(A.defaultExit,(function(e){return i.createElement(y.a,{children:i.createElement(v.a,{exit:e,context:F,onPress:T,theme:C,autoOpen:d.d(r.resultExit)})})})),null))}else{t=1!==x.length?i.createElement(E,{initiallyOpenItems:l.c([0]),items:x,renderHeader:function(e,t,n){return i.createElement(_,{isOpen:e,index:t})},renderItem:function(e,t){var r={textPosition:A.textPosition,context:F,onPressExit:T,theme:C,pixel:q};void 0!==t.title&&(r.title=c.d(t.title)),void 0!==t.titleRich&&(r.titleRich=c.d(t.titleRich)),void 0!==t.media&&(r.media=c.d(t.media));var a=o.d(A),s={apiUrl:n,credentials:g,insertionId:b,slotName:I,question:t,creative:(a.loginType="disabled",a),theme:C,context:{contentId:F.contentId,contentVersion:F.contentVersion,questionId:t.id,surveyId:F.surveyId,quizId:F.quizId,personalityId:F.personalityId,formId:F.formId,gameId:F.gameId,videoId:F.videoId,chatId:F.chatId,canvasId:F.canvasId,consentId:F.consentId,optinId:F.optinId,format:F.format,hasVideo:F.hasVideo,hasBranding:F.hasBranding,firstFormatFamily:F.firstFormatFamily,currentFormatFamily:F.currentFormatFamily},onPressExit:T,pixel:q,ownerId:w,welcomeMessage:void 0,commit:R,onCommitChange:L,sessionId:P,showOptins:!1,publisherId:k,externalLogStatus:G};return void 0!==V&&(s.requestExternalLog=c.d(V)),i.createElement("div",void 0,i.createElement(f.a,r),i.createElement(h.a,s))}}):d.c(d.f(a.f(x,0),(function(e){var t={textPosition:A.textPosition,context:F,onPressExit:T,theme:C,pixel:q};void 0!==e.title&&(t.title=c.d(e.title)),void 0!==e.titleRich&&(t.titleRich=c.d(e.titleRich)),void 0!==e.media&&(t.media=c.d(e.media));var r=o.d(A),a={apiUrl:n,credentials:g,insertionId:b,slotName:I,question:e,creative:(r.loginType="disabled",r),theme:C,context:{contentId:F.contentId,contentVersion:F.contentVersion,questionId:e.id,surveyId:F.surveyId,quizId:F.quizId,personalityId:F.personalityId,formId:F.formId,gameId:F.gameId,videoId:F.videoId,chatId:F.chatId,canvasId:F.canvasId,consentId:F.consentId,optinId:F.optinId,format:F.format,hasVideo:F.hasVideo,hasBranding:F.hasBranding,firstFormatFamily:F.firstFormatFamily,currentFormatFamily:F.currentFormatFamily},onPressExit:T,pixel:q,ownerId:w,welcomeMessage:void 0,commit:R,onCommitChange:L,sessionId:P,showOptins:!1,publisherId:k,externalLogStatus:G};return void 0!==V&&(a.requestExternalLog=c.d(V)),i.createElement("div",void 0,i.createElement(f.a,t),i.createElement(h.a,a))})),i.createElement(p.a,{}))}return i.createElement("div",void 0,t,i.createElement(m.a,{creative:A,pixel:q,context:F,credentials:g,apiUrl:n,commit:R,theme:C,sessionId:P,publisherId:k}))}},197:function(e,t,n){"use strict";n.r(t);var i=n(2),r=n(25),o=n(76),a=n(26),s=n(0),d=n(3),l=n(87),c=n(46),u=n(107),m=n(99),f=n(92),v=n(94),h=n(149),p=n(81),x=n(82),I=n(1),g=n(91),E=n(5),y=n(120),b=n(110),A=n(77),_=n(121),C=n(122),F=n(79),T=n(127),q=n(80),w=n(123);var R=function(e){var t=e.question,n=e.context,l=e.commit,c=e.creative,u=e.onCommitChange,m=e.apiUrl,f=e.credentials,h=e.sessionId,p=e.insertionId,x=e.theme,R=e.pixel,L=e.onPressExit,P=e.requestFirstInteraction,k=e.questionIndex,G=e.questionTotalCount,V=e.publisherId,M={contentId:n.contentId,contentVersion:n.contentVersion,questionId:t.id,surveyId:n.surveyId,quizId:n.quizId,personalityId:n.personalityId,formId:n.formId,gameId:n.gameId,videoId:n.videoId,chatId:n.chatId,canvasId:n.canvasId,consentId:n.consentId,optinId:n.optinId,format:n.format,hasVideo:n.hasVideo,hasBranding:n.hasBranding,firstFormatFamily:n.firstFormatFamily,currentFormatFamily:n.currentFormatFamily},B=function(e){return i.a(u,o.i(l,M,{TAG:0,_0:1})),a.c(R,{TAG:15,_0:M,_1:g.g(e),_2:I.p(g.g(e),[],(function(e,n){return s.g(I.f(t.choices,n),e,(function(t){return I.b(e,[t[1]])}))})),_3:s.c(t.title,""),_4:k,_5:void 0,_6:k===(G-1|0),_7:I.p(g.g(e),[],(function(e,n){return s.g(I.f(t.choices,n),e,(function(t){return I.b(e,I.n(t[1].externalTrackings,(function(e){return e[1]})))}))}))}),E.h(b.b(m,M,g.g(e),h,c.representAsFresh,p,V,f),(function(e){return i.a(u,o.i(l,M,{TAG:0,_0:{_0:e}}))}))},S=_.a(B,t,P,void 0,void 0),N=S[1],z=S[0],O=function(e){return a.c(R,{TAG:14,_0:M}),i.a(N,e)};r.useEffect((function(){a.c(R,{TAG:11,_0:M})}),[]);var j={textPosition:t.textPosition,context:M,onPressExit:L,theme:x,pixel:R};void 0!==t.title&&(j.title=d.d(t.title)),void 0!==t.titleRich&&(j.titleRich=d.d(t.titleRich)),void 0!==t.media&&(j.media=d.d(t.media));var U,D=o.b(l,M),W=0;if(t.carouselTemplate||void 0===D?W=1:D.TAG?U=r.createElement(y.a,{}):"number"==typeof D._0?W=1:U=r.createElement(y.a,{}),1===W){var Q=s.g(o.b(l,M),!1,(function(e){return 1!==t.carouselTemplate}));U=r.createElement("div",void 0,r.createElement(T.a,{question:t,renderChoice:function(e,n,a,c){var u=g.d(z,e),m={choice:a,theme:x,checked:1!==t.carouselTemplate&&u,disabled:Q,context:M,onPressExit:L,onPress:function(e){var t=o.b(l,M);if(void 0===t)return i.a(c,u);if(t.TAG)return i.a(c,u);var n=t._0;return"number"==typeof n||n._0.TAG?i.a(c,u):void 0},pixel:R,hideText:t.hideChoicesText},f=I.p(I.k(t.choices,(function(e){var t=e[1].media;if(void 0!==t&&"string"!=typeof t){var n=t.NAME;if("Video"===n){var i=t.VAL,r=i.useVideoOriginalRatio;return s.f(I.f(i.video.videos,0),(function(e){return r?e.height/e.width:9/16}))}if("Image"===n){var o=t.VAL;return o.height/o.width}}})),void 0,(function(e,t){return s.g(e,t,(function(e){return t<e?t:e}))}));return void 0!==f&&(m.minChoiceMediaRatio=d.d(f)),r.createElement(C.a,m)},theme:x,context:M,pixel:R,onPressExit:L,onPress:function(e,t){return O(t?{TAG:1,_0:e}:{TAG:0,_0:e})}}),r.createElement(w.a,{choiceCount:g.f(z),maxChoices:t.maxChoices,minChoices:t.minChoices,onPress:function(e){return B(z)},disabled:Q,theme:x}),s.c(s.f(t.firstScreenExit,(function(e){return r.createElement(q.a,{small:!0,children:r.createElement(F.a,{exit:e,context:M,onPress:L,theme:x,small:!0})})})),null),r.createElement(v.a,{footnotes:t.footnotes,footnotesRich:t.footnotesRich,theme:x}))}return r.createElement("div",void 0,r.createElement("div",void 0,r.createElement(A.a,j),U))},L=n(6),P=n(114),k=n(156),G=n(105),V={display:"flex",padding:"20px",alignItems:"center",flexDirection:"row",justifyContent:"center"};var M=function(e){var t=e.onCommitChange,n=e.context,s=e.commit,l=e.creative,u=e.apiUrl,m=e.sessionId,f=e.insertionId,v=e.credentials,h=e.pixel,x=e.ownerId,I=e.welcomeMessage,g=e.theme,y=e.publisherId,b=e.children,A=e.externalLogStatus,_=e.requestExternalLog;r.useEffect((function(){void 0!==o.b(s,n)||(i.a(t,o.i(s,n,{TAG:1,_0:1})),E.h(k.b(u,n,m,l.representAsFresh,f,y,v),(function(e){return L.d(n)&&a.c(h,{TAG:18,_0:n}),i.a(t,o.i(s,n,{TAG:1,_0:{_0:e}}))})))}),[]);var C,F=o.b(s,n),T=0;if(void 0!==F)if(1===F.TAG)if("number"==typeof F._0)T=1;else{var q={credentials:v,creative:l,apiUrl:u,commit:s,onCommitChange:t,sessionId:m,loginType:l.loginType,render:function(e){return r.createElement("div",void 0,r.createElement(G.a,{apiUrl:u,ownerId:x,credentials:v,theme:g,welcomeMessage:I}),b)},context:n,pixel:h,theme:g,publisherId:y,externalLogStatus:A};void 0!==_&&(q.requestExternalLog=d.d(_)),C=r.createElement(P.a,q)}else C=null;else T=1;return 1===T&&(C=r.createElement("div",{style:V},r.createElement(p.a,{color:"#"+c.b,size:24}))),r.createElement("div",void 0,C)},B=n(85),S=n(75),N=n(86),z=n(168),O=n(88),j=n(169),U=n(173),D={position:"relative"},W={maxWidth:"100%"},Q={backgroundColor:"rgba(0, 0, 0, 0.6)",bottom:"0",color:"#fff",display:"flex",left:"0",position:"absolute",right:"0",top:"0",flexDirection:"column"},H={display:"flex",alignItems:"center",flexDirection:"column",flexGrow:"1",justifyContent:"center"},J={fontSize:"24px",margin:"5px 10px",textAlign:"center"},Z={fontSize:"14px",margin:"5px 10px",textAlign:"center"},K={display:"block",width:"100%"},X={display:"flex",padding:"20px",alignItems:"center",flexDirection:"row",justifyContent:"center"},Y={display:"flex",width:"100%",alignItems:"stretch",flexDirection:"column"};var $=function(e){var t=e.title,n=e.titleRich,o=e.description,l=e.descriptionRich,u=e.showResults,m=e.media,f=e.textPosition,v=e.context,h=e.exit,x=e.onPressExit,I=e.pixel,g=e.creative,y=e.theme,b=e.question,A=e.lastQuestionCommit,_=e.apiUrl,C=e.credentials,T=S.a((function(e){return{statistics:0}}),(function(e,t){return e?{TAG:0,_0:{statistics:{_0:e._0}}}:{TAG:1,_0:{statistics:1},_1:function(e){var t=e.send;s.f(b.id,(function(e){return E.h(z.a(_,C,e),(function(e){return i.a(t,{_0:e})}))}))}}})),w=T[1],R=T[0].statistics;r.useEffect((function(){u&&i.a(w,0),L.d(v)&&a.c(I,{TAG:19,_0:v})}),[]);var P,k,G=r.createElement("div",{style:W},void 0!==n?r.createElement(r.Fragment,void 0,r.createElement("style",void 0,N.b),r.createElement("div",{className:N.a,role:"heading",style:J,dangerouslySetInnerHTML:{__html:n}})):void 0!==t?r.createElement("div",{role:"heading",style:J},t):null,void 0!==l?r.createElement("div",{style:Z,dangerouslySetInnerHTML:{__html:l}}):void 0!==o?r.createElement("div",{style:Z},o):null),V=s.c(s.f(m,(function(e){var t=r.createElement("div",{className:O.a,style:{width:"100%"}},r.createElement(B.a,{media:e,context:v,onPressExit:x,theme:y,pixel:I})),n=s.c(s.f(h,(function(e){return e})),g.defaultExit);if(void 0===n)return t;if("string"==typeof e)return t;if("Image"!==e.NAME)return t;var o=n.value._0;return r.createElement("a",{style:K,title:o.buttonWording,href:o.url,target:"_blank",onClick:function(e){return i.c(x,e,v,n)},onContextMenu:function(e){e.preventDefault()}},t)})),null),M=r.createElement(r.Fragment,void 0,s.c(s.f(h,(function(e){return r.createElement(q.a,{children:r.createElement(F.a,{exit:e,context:v,onPress:x,theme:y})})})),null),s.c(s.f(g.defaultExit,(function(e){return r.createElement(q.a,{children:r.createElement(F.a,{exit:e,context:v,onPress:x,theme:y,autoOpen:s.d(h)})})})),null));if(u)if("number"==typeof R)P=r.createElement("div",{style:X},r.createElement(p.a,{color:"#"+c.b,size:24}));else{var $=R._0;if($.TAG)P=null;else{var ee,te=$._0;if(2!==b.choices.length){var ne={question:b,statistics:te,theme:y,creative:g,onPressExit:x,context:v};void 0!==A&&(ne.commit=d.d(A)),ee=r.createElement(U.a,ne)}else{var ie={question:b,statistics:te,theme:y,context:v,onPressExit:x,creative:g};void 0!==A&&(ie.commit=d.d(A)),ee=r.createElement(j.a,ie)}P=r.createElement("div",{style:Y},ee)}}else P=null;var re=0;return"bottom"===f?re=1:"top"===f?k=r.createElement("div",{style:H},G,V,M,P):void 0!==m&&"string"!=typeof m&&"Image"===m.NAME?k=r.createElement("div",{style:D},V,r.createElement("div",{style:Q},r.createElement("div",{style:H},G,M)),P):re=1,1===re&&(k=r.createElement("div",{style:H},V,G,M,P)),r.createElement(r.Fragment,void 0,k)},ee=n(17);function te(e,t,n){return I.n(I.j(e,(function(e){var i=o.b(t,{contentId:n.contentId,contentVersion:n.contentVersion,questionId:e[1][0].id,surveyId:n.surveyId,quizId:n.quizId,personalityId:n.personalityId,formId:n.formId,gameId:n.gameId,videoId:n.videoId,chatId:n.chatId,canvasId:n.canvasId,consentId:n.consentId,optinId:n.optinId,format:n.format,hasVideo:n.hasVideo,hasBranding:n.hasBranding,firstFormatFamily:n.firstFormatFamily,currentFormatFamily:n.currentFormatFamily});if(void 0===i)return!1;if(i.TAG)return!1;var r=i._0;return"number"!=typeof r&&!r._0.TAG})),(function(e){return e[1][0]}))}n.d(t,"make",(function(){return re}));var ne={display:"flex",padding:"20px",alignItems:"center",flexDirection:"row",justifyContent:"center"},ie={marginTop:"10px"};var re=function(e){var t=e.apiUrl,n=e.sessionId,g=e.insertionId,E=e.credentials,y=e.pixel,b=e.slotName,A=e.onCommitChange,_=e.survey,C=e.commit,F=e.creative,T=e.context,q=e.theme,w=e.onPressExit,L=e.requestFirstInteraction,P=e.ownerId,k=e.welcomeMessage,G=e.contentVisibilityRatio,V=e.contentVisibilityMinDuration,B=e.publisherId,S=e.externalLogStatus,N=e.requestExternalLog,z={contentId:T.contentId,contentVersion:T.contentVersion,questionId:T.questionId,surveyId:_.id,quizId:T.quizId,personalityId:T.personalityId,formId:T.formId,gameId:T.gameId,videoId:T.videoId,chatId:T.chatId,canvasId:T.canvasId,consentId:T.consentId,optinId:T.optinId,format:T.format,hasVideo:T.hasVideo,hasBranding:T.hasBranding,firstFormatFamily:T.firstFormatFamily,currentFormatFamily:T.currentFormatFamily},O=r.useRef(null);x.c(O,G,void 0,0|V,(function(e){return a.c(y,{TAG:13,_0:z})}));var j,U=r.useState((function(){return _.hideCover})),D=U[1];if(r.useEffect((function(){a.c(y,{TAG:12,_0:z})}),[]),U[0])j=r.createElement(l.a,{creative:F,render:function(e){var i,a=function e(t,n,i,r){var a=I.f(t,r),d=s.a(a,(function(e){return o.b(n,{contentId:i.contentId,contentVersion:i.contentVersion,questionId:e[1][0].id,surveyId:i.surveyId,quizId:i.quizId,personalityId:i.personalityId,formId:i.formId,gameId:i.gameId,videoId:i.videoId,chatId:i.chatId,canvasId:i.canvasId,consentId:i.consentId,optinId:i.optinId,format:i.format,hasVideo:i.hasVideo,hasBranding:i.hasBranding,firstFormatFamily:i.firstFormatFamily,currentFormatFamily:i.currentFormatFamily})}));if(void 0===a)return"End";if(a[1][0].carouselTemplate)return{NAME:"Question",VAL:[a,r]};if(void 0===d)return{NAME:"Question",VAL:[a,r]};if(d.TAG)return"End";var l=d._0;if("number"==typeof l)return{NAME:"Question",VAL:[a,r]};var c=l._0;if(c.TAG)return{NAME:"Question",VAL:[a,r]};var u=a[1],m=u[1].choices,f=u[0],v=c._0;return s.c(s.f(s.a(I.f(v.choices,0),(function(e){return I.f(m,e)})),(function(o){if("number"==typeof o)return 0===o?e(t,n,i,r+1|0):"End";if(o.TAG)return{NAME:"EndWithScreen",VAL:[o._0,f,v]};var a=o._0;return s.c(s.f(I.i(t,(function(e){return ee.b(e[1][0].id,a)})),(function(r){return e(t,n,i,r)})),"End")})),"End")}(_.questions,C,z,0);if("string"==typeof a){var l={apiUrl:t,survey:_,questions:te(_.questions,C,z),slotName:b,credentials:E,insertionId:g,creative:F,theme:q,context:z,onPressExit:w,pixel:y,ownerId:P,commit:C,onCommitChange:A,sessionId:n,publisherId:B,externalLogStatus:S};void 0!==N&&(l.requestExternalLog=d.d(N));var u={onCommitChange:A,context:z,commit:C,creative:F,apiUrl:t,sessionId:n,insertionId:g,credentials:E,pixel:y,ownerId:P,welcomeMessage:k,theme:q,publisherId:B,children:r.createElement(h.a,l),externalLogStatus:S};void 0!==N&&(u.requestExternalLog=d.d(N)),i=r.createElement(M,u)}else if("EndWithScreen"===a.NAME){var x=a.VAL,T=x[0],G={title:T.name,description:T.text,showResults:T.showResults,textPosition:"bottom",context:z,onPressExit:w,pixel:y,creative:F,theme:q,question:x[1],lastQuestionCommit:x[2],apiUrl:t,credentials:E};void 0!==T.nameRich&&(G.titleRich=d.d(T.nameRich)),void 0!==T.textRich&&(G.descriptionRich=d.d(T.textRich)),void 0!==T.media&&(G.media=d.d(T.media)),void 0!==T.exit&&(G.exit=d.d(T.exit));var V,O=o.b(C,z),j=0;if(void 0!==O)if(1===O.TAG){var U=O._0;if("number"==typeof U)0!==U?j=1:V=null;else{var D=U._0;if(D.TAG)V=null;else{var W={creative:F,theme:q,insertionId:g,slotName:b,buttonLabel:"Jouer",brick:{TAG:1,_0:_},commit:{TAG:1,_0:{_0:{TAG:0,_0:D._0}}}},Q=s.a(_.media,(function(e){return"string"==typeof e||"Image"!==e.NAME?void 0:e.VAL.url}));void 0!==Q&&(W.backgroundImage=d.d(Q));var H=s.a(_.sharingMedia,(function(e){return"string"==typeof e||"Image"!==e.NAME?void 0:e.VAL.url}));void 0!==H&&(W.shareImage=d.d(H)),V=r.createElement("div",{style:ie},r.createElement(m.a,W))}}}else V=null;else j=1;1===j&&(V=r.createElement("div",{style:ne},r.createElement(p.a,{color:"#"+c.b,size:24})));var J={onCommitChange:A,context:z,commit:C,creative:F,apiUrl:t,sessionId:n,insertionId:g,credentials:E,pixel:y,ownerId:P,welcomeMessage:k,theme:q,publisherId:B,children:r.createElement(r.Fragment,void 0,r.createElement($,G),r.createElement(f.a,{creative:F,pixel:y,context:z,credentials:E,apiUrl:t,commit:C,theme:q,sessionId:n,publisherId:B}),V,r.createElement(v.a,{footnotes:T.footnotes,footnotesRich:T.footnotesRich,theme:q})),externalLogStatus:S};void 0!==N&&(J.requestExternalLog=d.d(N)),i=r.createElement(M,J)}else{var Z=a.VAL,K=Z[0];i=r.createElement(R,{question:K[1][0],context:z,commit:C,creative:F,onCommitChange:A,apiUrl:t,credentials:E,sessionId:n,insertionId:g,theme:q,pixel:y,onPressExit:w,requestFirstInteraction:L,questionIndex:Z[1],questionTotalCount:_.questions.length,publisherId:B,key:K[0]})}return r.createElement("div",void 0,i)},context:z,onPressExit:w,pixel:y,theme:q});else{var W={actionLabel:s.c(_.coverButtonLabel,"Jouer"),onPressAction:function(e){return a.c(y,{TAG:14,_0:z}),i.a(L,(function(e){return i.a(D,(function(e){return!0}))}))},textPosition:F.textPosition,context:z,onPressExit:w,pixel:y,theme:q};void 0!==_.title&&(W.title=d.d(_.title)),void 0!==_.media&&(W.media=d.d(_.media)),j=r.createElement(u.a,W)}return r.createElement("div",{ref:O},j)}}}]);