// cpe-client v0.2.14 Dailymotion
var cpeapp=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){a(e,t,i[t])})}return e}var s,l,c,u,d=Array.from||(s=function(e){return"function"==typeof e},l=Math.pow(2,53)-1,c=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),l)},u=function(e){var t=e.next();return!Boolean(t.done)&&t},function(t){var i,n,a,o=this,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!s(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}var l=function(e,t){if(null!=e&&null!=t){var i=e[t];if(null==i)return;if(!s(i))throw new TypeError(i+" is not a function");return i}}(t,function(t){if(null!=t){if(["string","number","boolean","symbol"].indexOf(e(t))>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in t)return Symbol.iterator;if("@@iterator"in t)return"@@iterator"}}(t));if(void 0!==l){n=s(o)?Object(new o):[];var d,p,h=l.call(t);if(null==h)throw new TypeError("Array.from requires an array-like or iterable object");for(a=0;;){if(!(d=u(h)))return n.length=a,n;p=d.value,n[a]=r?r.call(i,p,a):p,a++}}else{var f=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var y,g=c(f.length);for(n=s(o)?Object(new o(g)):new Array(g),a=0;a<g;)y=f[a],n[a]=r?r.call(i,y,a):y,a++;n.length=g}return n}),p=["stp-sound","pip-position","pip-margin-h","pip-margin-v","pip-width","pip-height","pip-at-start","ads-params","ads-params-var","playlist-id","query-string"],h=["channels","languages","keywords","tags","topics"],f=["playlist","source","sort","extend_parameter"],y=["no-autonext","no-queue","no-controls","no-stp","no-pip"],g=["ads_params","app","client_type"],v=function(){function e(i){t(this,e),this.element=i,this.fieldVideoIdList=[],this.fieldVideosList=[],this.specificConfig={},this.specificContents={},this.srcAttributes={},this.extractSpecificData()}return n(e,[{key:"extractSpecificData",value:function(){var e=this;d(this.element.attributes).forEach(function(t){e.getEffectsActivationAttributes(t),e.getConfigAttributes(t),e.getContentAttributes(t),e.extractSpecialContentAttribute(t),e.extractSrcAttributes(t)}),this.constructSpecificContentVideosField()}},{key:"getConfigAttributes",value:function(e){-1!==p.indexOf(e.name)&&(this.specificConfig[e.name]=e.value)}},{key:"getContentAttributes",value:function(e){this.getContentsAttributesMultiValues(e),this.getContentsAttributesOneValue(e)}},{key:"getContentsAttributesMultiValues",value:function(e){var t=this;if(-1!==h.indexOf(e.name))if(-1===e.value.indexOf(","))this.specificContents[e.name]=e.value.trim();else{var i=e.value.split(",");this.specificContents[e.name]=[],i.forEach(function(i){t.specificContents[e.name].push(i.trim())})}}},{key:"getContentsAttributesOneValue",value:function(e){-1!==f.indexOf(e.name)&&(this.specificContents[e.name]=e.value.trim())}},{key:"getEffectsActivationAttributes",value:function(e){-1!==y.indexOf(e.name)&&(this.specificConfig[e.name]=!0)}},{key:"extractSpecialContentAttribute",value:function(e){var t,i=this;if("video-id"===e.name)t=e.value.trim(),this.fieldVideoIdList.push(t);else if("src"===e.name){var n=/dailymotion.com\/embed\/video\/([a-zA-Z0-9]+)/;n.exec(e.value)&&(t=n.exec(e.value)[1],this.fieldVideoIdList.push(t))}"videos"===e.name&&(-1===e.value.indexOf(",")?this.fieldVideosList.push(e.value.trim()):e.value.split(",").forEach(function(e){i.fieldVideosList.push(e.trim())}))}},{key:"extractSrcAttributes",value:function(e){var t=this;e&&"src"===e.name&&g.forEach(function(i){var n=new RegExp("[?|&]"+i+"=([^&;]+?)(&|#|;|$)");e.value.match(n)&&(t.srcAttributes[i]=e.value.match(n)[1])})}},{key:"constructSpecificContentVideosField",value:function(){(this.fieldVideoIdList.length>0||this.fieldVideosList.length>0)&&(this.specificContents.videos=[],this.fieldVideoIdList.length>0&&(this.specificContents.videos=this.specificContents.videos.concat(this.fieldVideoIdList)),this.fieldVideosList.length>0&&(this.specificContents.videos=this.specificContents.videos.concat(this.fieldVideosList)))}},{key:"config",get:function(){return this.specificConfig}},{key:"contents",get:function(){return this.specificContents}}]),e}();for(var m,b=(function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var i=new Uint8Array(16);e.exports=function(){return t(i),i}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}}(m={exports:{}},m.exports),m.exports),w=[],k=0;k<256;++k)w[k]=(k+256).toString(16).substr(1);var E=function(e,t){var i=t||0,n=w;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")};var C=function(e,t,i){var n=t&&i||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||b)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var o=0;o<16;++o)t[n+o]=a[o];return t||E(a)},_={"int.000":{category:"Internal",title:"Unknown error",description:"An unknown error occured"},"params.000":{category:"Parameter",title:"Wrong CpeId",description:"The Dailymotion CPE Id used is invalid"},"params.001":{category:"Parameter",title:"Wrong VideoId",description:"The VideoId used is invalid"}},P=new(function(){function e(){t(this,e),this._levelPriority={NONE:0,ERROR:1,WARN:2,DEBUG:3,INFO:4,LOG:5},this._level="NONE",this.debugModeRequested()&&(this._level="LOG")}return n(e,[{key:"sendError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_.hasOwnProperty(e)||(e="int.000");var i=_[e],n=null!==t?"CPEERROR (".concat(e,") ").concat(i.title,": ").concat(i.description," | '").concat(t,"'"):"CPEERROR (".concat(e,") ").concat(i.title,": ").concat(i.description);this.error(n)}},{key:"error",value:function(){if(this.hasError()&&this.isAuthorized("ERROR")){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.error.apply(console,t)}}},{key:"info",value:function(){if(this.hasInfo()&&this.isAuthorized("INFO")){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.info.apply(console,t)}}},{key:"warn",value:function(){if(this.hasWarn()&&this.isAuthorized("WARN")){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.warn.apply(console,t)}}},{key:"log",value:function(){if(this.hasLog()&&this.isAuthorized("LOG")){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.log.apply(console,t)}}},{key:"debug",value:function(){if(this.hasDebug()&&this.isAuthorized("DEBUG")){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.debug.apply(console,t)}}},{key:"debugModeRequested",value:function(){return!!window&&!!window.cpe&&!!window.cpe.debug}},{key:"isAuthorized",value:function(e){return this._levelPriority[e]<=this._levelPriority[this.level]}},{key:"hasError",value:function(){return console&&console.error}},{key:"hasInfo",value:function(){return console&&console.info}},{key:"hasWarn",value:function(){return console&&console.warn}},{key:"hasLog",value:function(){return console&&console.log}},{key:"hasDebug",value:function(){return console&&console.debug}},{key:"level",get:function(){return this._level},set:function(e){this._level=e}}]),e}());function x(e){return!e.player.muted}function L(e){return e.player.paused}function A(e){return e.player.playing}function O(e){return A(e)||S(e)}function M(e){return e.player.reduced||e.player.pipChanging}function S(e){return e.player.isVisible50()||e.player.isVisible75()||e.player.isVisible100()}function I(e){return M(e)&&A(e)}function N(e){return M(e)&&!A(e)}function R(e){return x(e)&&A(e)}function V(e){return M(e)&&x(e)&&A(e)}function T(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(!i.length)return e;var r=i.shift();if(B(e)&&B(r))for(var s in r)B(r[s])?(e[s]||o(e,a({},s,{})),T(e[s],r[s])):o(e,a({},s,r[s]));return T.apply(void 0,[e].concat(i))}function B(t){return t&&"object"===e(t)&&!Array.isArray(t)}function z(e){var t=/cpe-[a-z0-9]{5}$/;return e&&e.match(t)?e.match(t)[0]:null}function D(e,t,i){var n;return function(){var a=this,o=arguments,r=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(a,o)},t),r&&e.apply(a,o)}}function j(e){return e.charAt(0).toUpperCase()+e.slice(1)}function U(t,i){return function(t,i){return"object"===e(t[i])&&!!t["".concat(i,"_enable")]}(t,i)||function(e,t){return"boolean"==typeof e[t]&&e[t]}(t,i)}function F(e,t){var i=[];switch(Object.keys(e).forEach(function(t){return i.push(e[t])}),t){case"paused":return i.filter(L);case"playing":return i.filter(A);case"playingOrVisibleGe50":return i.filter(O);case"reduced":return i.filter(M);case"visibleGe50":return i.filter(S);case"notMutedAndPlaying":return i.filter(R)}return[]}function q(e,t){var i=[];switch(Object.keys(e).forEach(function(t){return i.push(e[t])}),t){case"mostVisible":return i.reduce(function(e,t){return e.player.visibility>t.player.visibility?e:t});case"reduced":return i.filter(M);case"reducedAndPlaying":return i.filter(I);case"reducedAndNotPlayingFilter":return i.filter(N);case"playing":return i.filter(A);case"reducedAndNotMutedAndPlaying":return i.filter(V)}return[]}var H={PLATFORM_SAFARI:/iP(?:hone|od|ad).*?OS (\d+)_(\d+)_?(\d+)?/i,BROWSER_CHROME:/android.+Chrom(?:e|ium)\/([0-9]+)\./i,BROWSER_FIREFOX:/android.+firefox\/([0-9]+)\./i};function W(){var e;return!(!window.cpe||!window.cpe.fakeUserAgentMobile)||((e=H.PLATFORM_SAFARI.exec(navigator.userAgent))?(parseInt(e[1],10)||0)>=8:(e=H.BROWSER_CHROME.exec(navigator.userAgent))?(parseInt(e[1],10)||0)>=31:!!(e=H.BROWSER_FIREFOX.exec(navigator.userAgent))&&(parseInt(e[1],10)||0)>=35)}function X(){var e="prod",t=window&&window.location&&window.location.hostname?window.location.hostname:"localhost",i=/env=([^&]+)/.exec(window.location.search.substring(1));return("preprod.dailymotion.com"===t||"api-stage.dmcdn.net"===t||/stage-(\d+).dailymotion.com/.exec(t))&&(e="preprod"),i&&(e=i[1]),e}function G(e){return e&&e.touches&&e.touches.length>0?e.touches[0].pageX?e.touches[0].pageX:e.touches[0].clientX?e.touches[0].clientX:e.touches[0].screenX:null}function $(){switch(X()){case"dev":return"./cpeEvent.js";case"qualif":case"pprod":case"preprod":return"https://preprod.dailymotion.com/js/cpe/cpeEvent.js"}return"https://static1.dmcdn.net/js/cpe/cpeEvent.min.js"}function J(e,t,i){var n,a={bubbles:!1,cancelable:!1,detail:i};if("function"==typeof CustomEvent)n=new CustomEvent(t,a);else if(document.createEvent)try{(n=document.createEvent("CustomEvent")).initCustomEvent(t,a.bubbles,a.cancelable,a.detail)}catch(e){(n=document.createEvent("Event")).initEvent(t,a.bubbles,a.cancelable)}else(n=document.createEventObject()).eventType=t,n.detail=a.detail;e.dispatchEvent?e.dispatchEvent(n):e.fireEvent&&"on".concat(t)in e&&e.fireEvent("on".concat(t),n)}var Q=function(){function e(){t(this,e)}return n(e,[{key:"constructUrl",value:function(e){if(!e)return!1;var t="".concat(function(){switch(X()){case"dev":case"qualif":case"preprod":case"pprod":return"https://api-staging.pxl.dailymotion.com/players/"}return"https://api.pxl.dailymotion.com/players/"}()).concat(e,"?fields=config");return window.cpe&&window.cpe.noCache&&(t="".concat(t,"&rd=").concat(C())),t}},{key:"send",value:function(e,t){var i=this.constructUrl(e);try{if(!i)throw new Error("Unvalid CPE ID ".concat(e));var n=new XMLHttpRequest;n.open("GET",i,!0),n.send(null),n.onload=function(){var e={};200===n.status&&((e=JSON.parse(n.responseText)).config.width&&delete e.config.width,e.config.height&&delete e.config.height),P.debug("CpeApi.send return : ",e.config),t(e.config)}}catch(e){console.error(e)}}}]),e}();function Y(e,t){e&&e.classList.add(t)}function Z(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e.getElementsByClassName(t);n&&n[0]&&(n[0].style.opacity=i)}function K(e,t){e&&e.classList.remove(t)}var ee=new(function(){function e(){t(this,e)}return n(e,[{key:"addPoster",value:function(e,t,i){var n;e&&(0===t.getElementsByClassName("poster").length?(n=document.createElement("div")).setAttribute("class","poster hide hard"):(n=t.getElementsByClassName("poster")[0]).style.background="",n.style.background="url(".concat(e.thumbnail_url,")"),n.style["background-size"]="cover",n.style.width=i.w||"0px",n.style.height=i.h||"0px",t.appendChild(n))}},{key:"showElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;K(e,"hard"),setTimeout(function(){return K(e,"hide")},1e3*t)}},{key:"hideElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;setTimeout(function(){return Y(e,"hide")},1e3*t),Y(e,"hard")}}]),e}()),te={autonext_enable:!0,autonext:{timer:5e3},collapse_enable:!1,collapse:{direction:"height",speed:.5,type:"linear"},expand_enable:!1,new_player:!0,pip_enable:!1,pip:{margin:{h:10,v:30},tshirts:{_id:"M",dimensions:{desktop:{width:{L:"410",M:"365",S:"320"},height:{L:"230",M:"205",S:"180"}},mobile:{width:{L:"308",M:"274",S:"240"},height:{L:"173",M:"154",S:"134"}}}},position:"bottom-right"},pip_at_start_enable:!1,player_style_enable:!1,player_style:{player_color:"ffcc33",subtitles_enable:!1},responsive:!0,scroll_to_play_enable:!1,scroll_to_pause_enable:!1,scroll_to_play:{sound:!1},up_next_queue_enable:!0,version:0},ie=function(){function e(){t(this,e),this.defaultConfig=te,this.config={}}return n(e,[{key:"init",value:function(e){var t=W();this.config={isMobile:t,context:{env:X(),eventTrackingUrl:$(),host:window&&window.location&&window.location.host?window.location.host:"localhost:8080"}},T(this.config,this.defaultConfig,e),this.globalConfigInjector()}},{key:"getAll",value:function(){return this.config}},{key:"globalConfigInjector",value:function(){window.cpe&&window.cpe.f&&(P.debug("Config.globalConfigInjector > A new global partner config found: ",window.cpe.f),this.config.autonext_enable=window.cpe.f.hasOwnProperty("autonext_enable")?window.cpe.f.autonext_enable:this.config.autonext_enable,this.config.scroll_to_play.sound=window.cpe.f.hasOwnProperty("stp_sound")?window.cpe.f.stp_sound:this.config.scroll_to_play.sound,this.config.scroll_to_play_enable=window.cpe.f.hasOwnProperty("stp_enable")?window.cpe.f.stp_enable:this.config.scroll_to_play_enable,this.config.scroll_to_pause_enable=window.cpe.f.hasOwnProperty("scroll_to_pause")?window.cpe.f.scroll_to_pause:this.config.scroll_to_pause_enable,this.config.pip.position=window.cpe.f.pip_position?window.cpe.f.pip_position:this.config.pip.position,this.config.pip.height=window.cpe.f.pip_height?window.cpe.f.pip_height:this.config.pip.height,this.config.pip.width=window.cpe.f.pip_width?window.cpe.f.pip_width:this.config.pip.width,this.config.pip.margin.h=window.cpe.f.pip_margin_h?window.cpe.f.pip_margin_h:this.config.pip.margin.h,this.config.pip.margin.v=window.cpe.f.pip_margin_v?window.cpe.f.pip_margin_v:this.config.pip.margin.v,this.config.pip.tshirts._id=window.cpe.f.tshirt?window.cpe.f.tshirt:this.config.pip.tshirts._id,this.config.pip_enable=window.cpe.f.hasOwnProperty("pip_enable")?window.cpe.f.pip_enable:this.config.pip_enable,this.config.new_player=window.cpe.f.hasOwnProperty("new_player")?window.cpe.f.new_player:this.config.new_player,this.config.player_style_enable=window.cpe.f.hasOwnProperty("player_style_enable")?window.cpe.f.player_style_enable:this.config.player_style_enable,this.config.player_style.player_color=window.cpe.f.hasOwnProperty("player_style_color")?window.cpe.f.player_style_color:this.config.player_style.player_color)}},{key:"account",get:function(){return window.cpe.account=this.config.account,this.config.account||null}},{key:"autoNext",get:function(){return{nextSource:this.config.autonext.next_source,enable:this.config.autonext_enable,timer:this.config.autonext.timer}}},{key:"collapse",get:function(){return r({enable:this.config.collapse_enable},this.config.collapse)}},{key:"expand",get:function(){return this.config.expand_enable}},{key:"pip",get:function(){var e=this.config,t=e.pip_enable,i=e.pip,n=i.margin,a=i.position,o=i.tshirts.dimensions;return{enable:t,margin:n,position:a,width:o[this.isMobile?"mobile":"desktop"].width[this.config.pip.tshirts._id],height:o[this.isMobile?"mobile":"desktop"].height[this.config.pip.tshirts._id]}}},{key:"pipAtStart",get:function(){return{enable:this.config.pip_at_start_enable}}},{key:"playerStyle",get:function(){return r({enable:this.config.player_style_enable},this.config.player_style)}},{key:"responsive",get:function(){return this.config.responsive}},{key:"scrollToPlay",get:function(){return r({enable:this.config.scroll_to_play_enable},this.config.scroll_to_play)}},{key:"scrollToPause",get:function(){return{enable:this.config.scroll_to_pause_enable}}},{key:"context",get:function(){return this.config.context}},{key:"isMobile",get:function(){return this.config.isMobile}},{key:"upNextQueue",get:function(){return{enable:this.config.up_next_queue_enable}}},{key:"version",get:function(){return this.config.version}}]),e}(),ne=new(function(){function e(){t(this,e),this.playerEnvInfo=null,this.configVersion=1,this.cpeDefaultClassName="cpe-xxxxx",this.trackingInitialized=!1}return n(e,[{key:"info",value:function(){var e={info:{sdk:this.getSdkInfo(),device:this.getDeviceInfo(),landing:this.getLandingInfo(),player:this.getPlayerInfo(),visitor:this.getVisitorInfo()}};return this.playerEnvInfo&&(this.playerEnvInfo.browser&&(e.info.browser=this.playerEnvInfo.browser),this.playerEnvInfo.player&&(e.info.player=this.playerEnvInfo.player)),this.getReferer()&&(e.info.landing.referer=this.getReferer()),e}},{key:"addEventTrackingIframe",value:function(e){var t=this;if(!this.trackingInitialized){var i=document.createElement("iframe");i.setAttribute("style","display: none"),i.setAttribute("name","cpe_et"),i.onload=function(){var n=document.createElement("script");n.src=e,n.onload=function(){t.trackingInitialized=!0,t.sendDisplay()},i.contentDocument.getElementsByTagName("head")[0].appendChild(n)},document.body.appendChild(i)}}},{key:"getAppInfo",value:function(){return{type:"com.dailymotion.cpe",id:window.cpe.i,version:"v0.0.29",width:window.innerWidth,height:window.innerHeight}}},{key:"getComponentInfo",value:function(e,t,i){var n=i.getComputedSize(),a={type:"video",index:0,style:"pip"!==e?"embed":i.config.config.pip.tshirts._id};return t&&(a.xid=t),n&&(n.w&&(a.width=Number(n.w.match(/(^[0-9]+)/)[1])),n.h&&(a.height=Number(n.h.match(/(^[0-9]+)/)[1]))),a}},{key:"getCurrentUrl",value:function(){return document.location.href}},{key:"getDeviceInfo",value:function(){return{type:this.getDeviceType(),width:window.innerWidth,height:window.innerHeight}}},{key:"getDeviceType",value:function(){return W()?"mobile":"desktop"}},{key:"getLandingInfo",value:function(){return{id:this.getUid()}}},{key:"getMiniplayerUid",value:function(){return this.miniplayerUuid=this.miniplayerUuid?this.miniplayerUuid:C(),this.miniplayerUuid}},{key:"getPlayerUid",value:function(){return this.playerUuid=this.playerUuid?this.playerUuid:C(),this.playerUuid}},{key:"getReferer",value:function(){return document.referrer}},{key:"getScreenInfo",value:function(){return{id:this.getScreenUid(),space:"space_cpe",name:"cpe",width:window.innerWidth,height:window.innerHeight,url:this.getCurrentUrl()}}},{key:"getScreenUid",value:function(){return this.screenUuid=this.screenUuid?this.screenUuid:C(),this.screenUuid}},{key:"getSdkInfo",value:function(){return{id:"".concat(window.cpe.i,"/").concat(this.configVersion),name:"cpe",publisher:window.cpe.account,version:"v0.0.32"}}},{key:"getSectionInfo",value:function(e,t){var i={id:"pip"===e?this.getMiniplayerUid():this.getPlayerUid(),type:"pip"===e?"pip":"player",index:"pip"===e?1e3:0,template:"t1"};return t&&(i.xid=t),i}},{key:"getUid",value:function(){return this.uuid=this.uuid?this.uuid:C(),this.uuid}},{key:"getPlayerInfo",value:function(){return this.playerEnvInfo&&this.playerEnvInfo.player?this.playerEnvInfo.players:null}},{key:"getVisitorInfo",value:function(){var e=function(){if(window.localStorage)for(var e in window.localStorage)if(/^visitor_[0-9a-f-]*$/.test(e))return JSON.parse(localStorage.getItem(e));return null}(),t={onsite:!1};return this.playerEnvInfo&&this.playerEnvInfo.visitor&&(t=r({},this.playerEnvInfo.visitor,t)),e&&(t.visit_number=e.number,t.visit_id=e.lastVisit),t}},{key:"getEventBusDomain",value:function(){return this.playerEnvInfo&&this.playerEnvInfo.eventBusDomain}},{key:"setConfigVersion",value:function(e){this.configVersion=e}},{key:"setPlayerEnvInfo",value:function(e){this.playerEnvInfo=e}},{key:"sendAction",value:function(e){var t=e.player,i=e.gesture,n=e.uiElement;if(i&&this.trackingInitialized){var a={},o=z(t.getClassName())||this.cpeDefaultClassName,r=t.reduced?"pip":"player",s=t.dmPlayer&&t.dmPlayer.video&&t.dmPlayer.video.videoId;n=n||null,a.env=X(),a.eventBusDomain=this.getEventBusDomain(),a[o]={data:{action:{gesture:i,referenced_type:"video",referenced_xid:s},component:this.getComponentInfo(r,s,t),info:this.info().info,name:"ui_action",screen:this.getScreenInfo(),section:this.getSectionInfo(r,s)}},n&&(a[o].data.action.ui_element=n),window.frames.cpe_et.postMessage(a,window.location.origin)}}},{key:"sendDisplay",value:function(){var e={};e.env=X(),e.eventBusDomain=this.getEventBusDomain(),e[this.cpeDefaultClassName]={data:{info:this.info().info,name:"ui_display",screen:this.getScreenInfo()}},window.frames.cpe_et.postMessage(e,window.location.origin)}}]),e}()),ae=new(function(){function e(){t(this,e)}return n(e,[{key:"collapse",value:function(e){Y(e.dmPlayer,"linearHidden"),e.collapsed=!0}},{key:"expand",value:function(e){K(e.dmPlayer,"linearHidden"),e.collapsed=!1}}]),e}()),oe=new(function(){function e(){t(this,e),this.onEffectDuration=.2,this.offEffectDuration=.2,this.closeBtnTimeout=null,this.controlLayerTimeout=null,this.swipeOn=!1,this.swipeRight=null,this.swipeLeft=null,this.topMarginMini=41}return n(e,[{key:"reduce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.pipChanging||!e.reduceAllowed||e.reduced||(e.pipChanging=!0,ne.sendAction({player:e,gesture:"cpe_deactivate",uiElement:t}),this.reduceEffect(e),ne.sendAction({player:e,gesture:"cpe_activate",uiElement:t}))}},{key:"maximize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!e.pipChanging&&e.reduced&&(e.pipChanging=!0,ne.sendAction({player:e,gesture:"cpe_deactivate",uiElement:t}),this.maximizeEffect(e),t=this.getTrackingState(t),ne.sendAction({player:e,gesture:"cpe_activate",uiElement:t}))}},{key:"getTrackingState",value:function(e){return-1!==["close_icon","no_autonext","keypress"].indexOf(e)?"":e}},{key:"reduceEffect",value:function(e){var t=this;this.handlePoster(e,"show"),this.slide(e,e.config.pip),e.nearlyFinished||e.adPlaying||setTimeout(function(){return t.addCloseBtn(e)},1e3*this.onEffectDuration)}},{key:"maximizeEffect",value:function(e){this.removeCloseBtn(e),this.slide(e,e.dmPlayerConfig),this.handlePoster(e,"hide")}},{key:"handlePoster",value:function(e,t){var i=e.insiderContainer.getElementsByClassName("poster");i&&1===i.length&&ee["".concat(t,"Element")](i[0],Math.min(this.onEffectDuration,this.offEffectDuration))}},{key:"getSlideDirection",value:function(e){var t=e.position;return this.swipeLeft||this.swipeRight?this.swipeLeft?"left":"right":/top/.test(t)?"top":"bottom"}},{key:"getTranslationValue",value:function(e,t,i){var n,a=e.reduced,o=i.width,r=i.height;i.margin;switch(t){case"top":n=-(Number(r)+2*this.topMarginMini);break;case"bottom":n=Number(r);break;case"left":n=-Number(o);break;case"right":n=Number(o)}return a?n:-n}},{key:"slide",value:function(e,t){var i,n=this,a=t.width,o=t.height,r=e.dmPlayer,s=e.reduced?this.offEffectDuration:this.onEffectDuration,l=this.getSlideDirection(e.config.pip),c=this.getTranslationValue(e,l,e.config.pip);e.reduced||(Y(e.playerContainer,"pip"),"top"===l||"bottom"===l?(i=e.config.pip.margin.v-Number(e.config.pip.height),"top"===l&&(i-=this.topMarginMini)):i=e.config.pip.margin.v-Number(e.config.pip.width),e.playerContainer.style[l]="".concat(i,"px"),r.width=a,r.height=o),r.style.transform="top"===l||"bottom"===l?"translateY(".concat(c,"px)"):"translateX(".concat(c,"px)"),r.style.transition="transform ".concat(s,"s ease-in-out"),setTimeout(function(){r.style.transform="",r.style.transition="",e.reduced?(K(e.playerContainer,"pip"),r.width=a,r.height=o,"top"===l||"bottom"===l?(i=Number(e.config.pip.margin.v),"top"===l&&(i+=n.topMarginMini)):i=Number(e.config.pip.margin.h),e.playerContainer.style[l]="".concat(i,"px"),e.reduced=!1):(e.playerContainer.style[l]="".concat("top"===l?e.config.pip.margin.v+n.topMarginMini:e.config.pip.margin.v,"px"),e.reduced=!0,e.play()),e.pipChanging=!1},1e3*s),this.swipeLeft=null,this.swipeRight=null}},{key:"addCloseBtn",value:function(e){var t=this,i="cpeClosePipBtn",n=[{evt:"click",cb:this.onCloseBtnClicked.bind(this,e)}];W()?i+=" alwaysDisplayed":(e.playerContainer.addEventListener("mouseover",function(i){return t.showCloseButton(e)}),e.playerContainer.addEventListener("mouseleave",function(i){return t.hideCloseButton(e)})),function(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=document.createElement("div"),r=document.createElement("img");o.setAttribute("class",t),r.setAttribute("src",n),r.setAttribute("class",i),a&&a.length>0&&a.forEach(function(e){return o.addEventListener(e.evt,e.cb)}),o.appendChild(r),e.appendChild(o)}(e.playerContainer,i,"cpeClosePipPicto","".concat(function(){switch(X()){case"dev":return"";case"qualif":case"pprod":case"preprod":return"https://api-stage.dmcdn.net/pxl/cpe/"}return"https://api.dmcdn.net/pxl/cpe/"}(),"btnClose.png"),n)}},{key:"removeCloseBtn",value:function(e){var t=this,i=[{evt:"click",cb:this.onCloseBtnClicked.bind(this,e)}];W()||(e.playerContainer.removeEventListener("mouseover",function(i){return t.showCloseButton(e)}),e.playerContainer.removeEventListener("mouseleave",function(i){return t.hideCloseButton(e)})),function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.getElementsByClassName(t);n&&n[0]&&(i&&i.length>0&&i.forEach(function(e){return n[0].removeEventListener(e.evt,e.cb)}),e.removeChild(n[0]))}(e.playerContainer,"cpeClosePipBtn",i)}},{key:"onCloseBtnClicked",value:function(e,t){e.disablePip(),e.notifyManager({name:"btnClicked",data:"maximize"}),J(window,"cpepipclose",{player:e.dmPlayer})}},{key:"onTouchstart",value:function(e,t){this.swipeOn=!0,this.swipeX=G(t)||this.Swipe}},{key:"onTouchmove",value:function(e,t){if(this.swipeOn){var i=this.swipeX,n=this.swipeRight&&this.swipeRight?"right":this.swipeLeft&&this.swipeLeft?"left":null;this.swipeX=G(t)||this.Swipe,this.swipeRight=i<this.swipeX,this.swipeLeft=i>this.swipeX,this.swipeOn=!("right"===n&&!this.swipeRight||"left"===n&&!this.swipeLeft)}}},{key:"onTouchend",value:function(e,t){if(this.swipeOn){var i=/right/.test(e.config.pip.position)?"right":"left";this.swipeRight&&"right"===i||this.swipeLeft&&"left"===i?(e.disablePip(),e.notifyManager({name:"swipe",data:"maximize"})):(this.swipeRight=null,this.swipeLeft=null)}this.swipeOn=!1}},{key:"showCloseButton",value:function(e){clearTimeout(this.closeBtnTimeout),this.closeBtnTimeout=null,Z(e.playerContainer,"cpeClosePipBtn",.45)}},{key:"hideCloseButton",value:function(e){this.closeBtnTimeout||(this.closeBtnTimeout=setTimeout(function(){return Z(e.playerContainer,"cpeClosePipBtn",0)},1500))}}]),e}()),re=new(function(){function e(){t(this,e),this._account=null,this._cpeId=null,this.playerList={},this.ready=!1,this.initVideoLoadingDone=!1}return n(e,[{key:"addCpePlayer",value:function(e,t){this.playerList[e]&&(this.playerList[e].player=t)}},{key:"removeCpePlayers",value:function(){var e=this;Object.keys(this.playerList).forEach(function(t){return e.removeCpePlayer(e.playerList[t])})}},{key:"removeCpePlayer",value:function(e){e.player.destroy()}},{key:"onApiReady",value:function(e){var t=this,i=0,n=[];Object.keys(this.playerList).forEach(function(e){return i+=t.playerList[e].player.apiReady?1:0}),this.ready=i===Object.keys(this.playerList).length,this.ready&&(Object.keys(this.playerList).forEach(function(e){return n.push(t.playerList[e].player.dmPlayer)}),J(window,"cpeready",{players:n}),P.log("Manager.onApiReady: Manager ready to rocks"))}},{key:"onAdPlay",value:function(e){var t=this.getPlayer(e);t&&(this.pipManagementOnAdPlay(t),this.onPlay(e))}},{key:"onAdEnd",value:function(e){var t=this.getPlayer(e);t&&this.pipManagementOnAdEnd(t)}},{key:"onBtnClicked",value:function(e,t){var i=this.getPlayer(e);if(i)switch(t){case"maximize":this.pipManagementOnMaximizeClicked(i,"close_icon"),this.stpManagementOnBtnClicked()}}},{key:"onEnded",value:function(e){var t=this.getPlayer(e);t&&(this.eacManagementOnEnded(t),this.pipManagementOnEnded(t),ne.sendAction({player:t,gesture:"cpe_video_end",cpeId:this._cpeId,account:this._account}))}},{key:"onError",value:function(e){var t=this.getPlayer(e);t&&t.destroy()}},{key:"onEscape",value:function(){this.pipManagementOnEscape()}},{key:"onFullscreenChange",value:function(e,t){var i=this.getPlayer(e);i&&this.pipManagementOnFullscreenChanged(i)}},{key:"onMuteChanged",value:function(e,t){var i=this.getPlayer(e);i&&(this.stpManagementOnMuteChanged(i),this.pipManagementOnMuteChanged(i))}},{key:"onPlay",value:function(e){var t=this.getPlayer(e);t&&this.pipManagementOnPlay(t)}},{key:"onSwipe",value:function(e,t){var i=this.getPlayer(e);if(i)switch(t){case"maximize":this.pipManagementOnMaximizeClicked(i,"swipe"),this.stpManagementOnBtnClicked()}}},{key:"onVideoChange",value:function(e,t){var i=this,n=this.getPlayer(e),a=0;n&&("first_load"===t&&(Object.keys(this.playerList).forEach(function(e){return a+=i.playerList[e].player.initLoading?1:0}),this.initVideoLoadingDone=a===Object.keys(this.playerList).length,this.initVideoLoadingDone&&(P.log("Manager.onVideoChange: Manager ready, all first video are loaded on each CPE"),this.stpManagementOnVideoChange())),n.reduced&&oe.addCloseBtn(n))}},{key:"onVideoEnd",value:function(e){var t=this.getPlayer(e);this.eacManagementOnEnded(t),this.pipManagementOnEnded(t),ne.sendAction({player:t,gesture:"cpe_video_end",cpeId:this._cpeId,account:this._account})}},{key:"onVisible",value:function(e){var t=this.getPlayer(e);t&&(this.pipManagementOnVisible(t),this.stpManagementOnVisible(t))}},{key:"eacManagementOnEnded",value:function(e){e.config.collapse.enable&&ae.collapse(e)}},{key:"pipManagementOnAdEnd",value:function(e){e.reduced&&!e.fullscreen&&oe.addCloseBtn(e)}},{key:"pipManagementOnAdPlay",value:function(e){e.reduced&&oe.removeCloseBtn(e)}},{key:"pipManagementOnEnded",value:function(e){e.reduced&&oe.removeCloseBtn(e),e.config.autoNext.enable||e.config.upNextQueue.enable||oe.maximize(e,"no_autonext")}},{key:"pipManagementOnEscape",value:function(){var e=q(this.playerList,"reduced")[0];if(e){var t=e.player;oe.maximize(t,"keypress"),t.disablePip()}}},{key:"pipManagementOnMaximizeClicked",value:function(e,t){oe.maximize(e,t)}},{key:"pipManagementOnMuteChanged",value:function(e){var t=q(this.playerList,"reduced");if((t=t.filter(function(t){return t.player.id!==e.id})).length>0){var i=t[0].player;i.pause(),oe.maximize(i)}}},{key:"pipManagementOnPlay",value:function(e){var t=q(this.playerList,"reducedAndNotMutedAndPlaying");if(t=t.filter(function(t){return t.player.id!==e.id}),!e.muted&&t.length>0){var i=t[0].player;i.pause(),oe.maximize(i)}}},{key:"pipManagementOnVisible",value:function(e){if(e.visibility>=25)oe.maximize(e,"scroll");else if(e.config.pip.enable&&e.reduceAllowed&&e.playing&&e.visibility<=25&&!e.fullscreen){var t=q(this.playerList,"reduced");(t=t.filter(function(t){return t.player.id!==e.id})).length>0?t[0].player.playing||(oe.maximize(t[0].player,"scroll"),oe.reduce(e,"scroll")):oe.reduce(e,"scroll")}}},{key:"pipManagementOnFullscreenChanged",value:function(e){var t=F(this.playerList,"reduced");(t=t.filter(function(t){return t.player.id!==e.id})).forEach(function(e){var t=e.player;t.pause("cpe_paused"),oe.maximize(t)}),e.reduced&&!e.fullscreen&&oe.addCloseBtn(e)}},{key:"stpManagementOnBtnClicked",value:function(){var e=q(this.playerList,"mostVisible");e&&this.stpManagementOnVisible(e.player)}},{key:"stpManagementOnMuteChanged",value:function(e){if(!e.muted){var t=F(this.playerList,"notMutedAndPlaying");(t=t.filter(function(t){return t.player.id!==e.id})).forEach(function(e){var t=e.player;t.setMuted(!0),t.visibility<50&&t.pause("cpe_paused")})}}},{key:"stpManagementOnVideoChange",value:function(){var e=q(this.playerList,"mostVisible");e&&this.stpManagementOnVisible(e.player)}},{key:"stpManagementOnVisible",value:function(e){var t,i=this;e.config.scrollToPlay.enable&&e.config.scrollToPause.enable&&e.playing&&!e.reduced&&!e.fullscreen&&(0===e.visibility?e.pause("cpe_scrollToPause"):100===e.visibility&&this.startVideo(e)),e.visibility>=50&&e.config.scrollToPlay.enable&&e.autoplayAllowed&&((t=(t=F(this.playerList,"playingOrVisibleGe50")).filter(function(t){return t.player.id!==e.id})).length>0?t.forEach(function(n){var a=n.player;e.config.scrollToPlay.sound?a.pipChanging||(a.visibility<=e.visibility?i.startVideo(e)&&(a.pause("cpe_paused"),oe.maximize(a)):i.startVideo(a)&&e.pause("cpe_paused")):a.muted?!a.reduced&&a.visibility<=e.visibility?e.playing?a.pause("cpe_paused"):i.startVideo(e)&&a.pause("cpe_paused"):a.reduced&&1===t.length?i.startVideo(e):a.playing&&e.playing&&e.pause("cpe_paused"):1===t.length&&(e.setMuted(!0),i.startVideo(e))}):e.pipChanging||this.startVideo(e))}},{key:"startVideo",value:function(e){var t=!1;return e.playing||e.ended||(e.play("cpe_playing","scroll"),t=!0,e.config.scrollToPlay.enable&&e.setMuted(!e.config.scrollToPlay.sound),e.collapsed&&e.eac.expand()),t}},{key:"getPlayer",value:function(e){return this.playerList[e]?this.playerList[e].player:null}},{key:"update",value:function(e,t){var i=this.getPlayer(e);if(i){switch(t.name){case"apiReady":this.onApiReady(e),i.config.pipAtStart.enable&&i.visibility<25&&oe.reduce(i,"pipAtStart");break;case"adPlay":this.onAdPlay(e);break;case"adEnd":this.onAdEnd(e);break;case"btnClicked":this.onBtnClicked(e,t.data);break;case"ended":this.onEnded(e);break;case"error":this.onError(e);break;case"escape":this.onEscape();break;case"fullscreen":this.onFullscreenChange(e);break;case"muteChanged":this.onMuteChanged(e,t.data);break;case"play":this.onPlay(e);break;case"swipe":this.onSwipe(e,t.data);break;case"videoChange":this.onVideoChange(e,t.data);break;case"videoEnd":this.onVideoEnd(e);break;case"visibility":this.onVisible(e)}P.log("Manager.update: event received for player["+e+"] > ",t)}}},{key:"account",set:function(e){this._account=e},get:function(){return this._account}},{key:"cpeId",set:function(e){this._cpeId=e},get:function(){return this._cpeId}}]),e}()),se=function(){function e(i,n,a,o,r){t(this,e),this.id=i,this.loadConfig(o,r),this.previousVideoId=null,this.initState(),a.params.mute=this.muted,this.dmPlayerConfig=a,"dev"===X()&&(DM._domain.www="http://stage-01.dailymotion.com"),"preprod"===X()&&(DM._domain.www="http://preprod.dailymotion.com"),this.dmPlayer=DM.player(n,this.dmPlayerConfig),this.playerContainer=this.dmPlayer.parentElement,this.insiderContainer=this.playerContainer.parentElement,this.addListeners(),this.playerCountdownTimer=null;var s=this.getComputedSize();this.initialWidth=s.w||null,this.initialHeight=s.h||null,this.dmPlayer.style.height="".concat(s.h,"px !important"),this.destroy=this.destroy.bind(this)}return n(e,[{key:"addListeners",value:function(){this.dmPlayer.addEventListener("apiready",this.onApiReady.bind(this)),this.dmPlayer.addEventListener("ad_end",this.onAdEnd.bind(this)),this.dmPlayer.addEventListener("error",this.onError.bind(this)),this.dmPlayer.addEventListener("fullscreenchange",this.onFullscreenChange.bind(this)),this.dmPlayer.addEventListener("loadedmetadata",this.onLoaded.bind(this)),this.dmPlayer.addEventListener("pause",D(this.onPause.bind(this),100)),this.dmPlayer.addEventListener("ad_pause",this.onPause.bind(this)),this.dmPlayer.addEventListener("play",this.onPlay.bind(this)),this.dmPlayer.addEventListener("ad_play",this.onAdPlay.bind(this)),this.dmPlayer.addEventListener("seeking",this.onSeeking.bind(this)),this.dmPlayer.addEventListener("ad_start",this.onAdPlay.bind(this)),this.dmPlayer.addEventListener("start",this.onStart.bind(this)),this.dmPlayer.addEventListener("videochange",this.onVideoChange.bind(this)),this.dmPlayer.addEventListener("video_start",this.onPlay.bind(this)),this.dmPlayer.addEventListener("video_end",this.onVideoEnd.bind(this)),this.dmPlayer.addEventListener("volumechange",this.onVolumeChanged.bind(this)),document.addEventListener("keyup",this.onEscapePressed.bind(this)),document.addEventListener("scroll",D(this.onScroll.bind(this),100),!0),window.addEventListener("resize",D(this.onScreenResized.bind(this),100))}},{key:"removeListeners",value:function(){this.dmPlayer.removeEventListener("apiready",this.onApiReady.bind(this)),this.dmPlayer.removeEventListener("ad_end",this.onAdEnd.bind(this)),this.dmPlayer.removeEventListener("error",this.onError.bind(this)),this.dmPlayer.removeEventListener("fullscreenchange",this.onFullscreenChange.bind(this)),this.dmPlayer.removeEventListener("loadedmetadata",this.onLoaded.bind(this)),this.dmPlayer.removeEventListener("pause",this.onPause.bind(this)),this.dmPlayer.removeEventListener("ad_pause",this.onPause.bind(this)),this.dmPlayer.removeEventListener("play",this.onPlay.bind(this)),this.dmPlayer.removeEventListener("ad_play",this.onAdPlay.bind(this)),this.dmPlayer.removeEventListener("seeking",this.onSeeking.bind(this)),this.dmPlayer.removeEventListener("ad_start",this.onAdPlay.bind(this)),this.dmPlayer.removeEventListener("start",this.onStart.bind(this)),this.dmPlayer.removeEventListener("videochange",this.onVideoChange.bind(this)),this.dmPlayer.removeEventListener("video_start",this.onPlay.bind(this)),this.dmPlayer.removeEventListener("video_end",this.onVideoEnd.bind(this)),this.dmPlayer.removeEventListener("volumechange",this.onVolumeChanged.bind(this)),document.removeEventListener("keyup",this.onEscapePressed.bind(this)),document.removeEventListener("scroll",D(this.onScroll.bind(this),100),!0),window.removeEventListener("resize",D(this.onScreenResized.bind(this),100))}},{key:"initState",value:function(){this.state={adPlaying:!1,apiReady:!1,collapsed:!1,dataLoaded:!1,ended:!1,expanded:!1,fullscreen:!1,initLoading:!1,muted:this.config.scrollToPlay.enable&&!this.config.scrollToPlay.sound,reduced:!1,playing:!1,videoEnded:!1,visibility:0},this.autoplayAllowed=!0,this.autoplayAllowedSaved=!0,this.autopauseRequested=!1,this.pipChanging=!1,this.reduceAllowed=!0,this.pauseRequested=!1}},{key:"loadConfig",value:function(e,t){this.config=new ie,this.config.init(t),this.config.config.autonext_enable=!e["no-autonext"]&&this.config.config.autonext_enable,this.config.config.pip_enable=!e["no-pip"]&&this.config.config.pip_enable,this.config.config.pip.position=e["pip-position"]?e["pip-position"]:this.config.config.pip.position,this.config.config.pip.height=e["pip-height"]?e["pip-height"]:this.config.config.pip.height,this.config.config.pip.width=e["pip-width"]?e["pip-width"]:this.config.config.pip.width,this.config.config.pip.margin.h=e["pip-margin-h"]?e["pip-margin-h"]:this.config.config.pip.margin.h,this.config.config.pip.margin.v=e["pip-margin-v"]?e["pip-margin-v"]:this.config.config.pip.margin.v,this.config.config.pip_at_start_enable=e.hasOwnProperty("pip-at-start")||this.config.config.pip_at_start_enable,this.config.config.scroll_to_play_enable=!e["no-stp"]&&this.config.config.scroll_to_play_enable,this.config.config.scroll_to_play.sound=e["stp-sound"]?"true"===e["stp-sound"]:this.config.config.scroll_to_play.sound,this.config.config.responsive=e.responsive?"true"===e.responsive:this.config.config.responsive,P.log("CpePlayer.loadConfig: config used for player [".concat(this.id,"] > "),this.config.getAll())}},{key:"onApiReady",value:function(e){var t=this.getEnvironmentInfo();this.apiReady=!0,this.checkVisibility(),ne.setPlayerEnvInfo(t),this.dmPlayer.setProp("neon",ne.info()),ne.addEventTrackingIframe(this.config.context.eventTrackingUrl),this.notifyManager({name:"apiReady",data:!0})}},{key:"onEnd",value:function(e){this.ended=!0,this.playing=!1,this.notifyManager({name:"ended",data:!0})}},{key:"onAdEnd",value:function(e){this.adPlaying=!1,this.notifyManager({name:"adEnd",data:!0})}},{key:"onAdPlay",value:function(e){this.adPlaying||this.notifyManager({name:"adPlay",data:!0}),this.adPlaying=!0,this.playing=!0,this.onPlay(e)}},{key:"onError",value:function(e){this.notifyManager({name:"error",data:null})}},{key:"onEscapePressed",value:function(e){27===e.keyCode&&this.notifyManager({name:"escape",data:null})}},{key:"onFullscreenChange",value:function(e){this.fullscreen=!this.fullscreen,this.notifyManager({name:"fullscreen",data:this.fullscreen})}},{key:"onLoaded",value:function(e){this.dataLoaded=!0}},{key:"onMuteBtnClicked",value:function(e){this.setMuted(!this.muted)}},{key:"onPause",value:function(e){this.autopauseRequested||(this.disableStp(),this.config.scrollToPlay.enable&&ne.sendAction({player:this,gesture:"cpe_paused",uiElement:"player"})),this.autopauseRequested=!1,this.pauseRequested=!1,this.playing=!1}},{key:"onPlay",value:function(e){this.playing||this.notifyManager({name:"play",data:!0}),this.playing=!0,this.setMuted(this.muted)}},{key:"onScreenResized",value:function(e){var t=this.getComputedSize();this.initialWidth=t.w||null,this.initialHeight=t.h||null}},{key:"onScroll",value:function(e){this.checkVisibility()}},{key:"onStart",value:function(e){this.onPlay(e)}},{key:"onSeeking",value:function(e){this.autoplayAllowed=this.autoplayAllowedSaved,this.notifyManager({name:"seeking",data:this.dmPlayer.currentTime})}},{key:"onVideoChange",value:function(e){this.initLoading?this.notifyManager({name:"videoChange",data:"load"}):(this.initLoading=!0,this.notifyManager({name:"videoChange",data:"first_load"}))}},{key:"onVideoEnd",value:function(e){this.ended=!0,this.playing=!1,this.notifyManager({name:"videoEnd",data:!0})}},{key:"onVolumeChanged",value:function(e){var t=this.muted;this.muted=this.dmPlayer.muted,0===this.dmPlayer.volume&&(this.muted=!0),t!==this.muted&&this.notifyManager({name:"muteChanged",data:this.muted})}},{key:"disablePip",value:function(){this.reduceAllowed=!1}},{key:"disableStp",value:function(){this.config.scrollToPause.enable&&"cpe_scrollToPause"===this.pauseRequested?this.autoplayAllowed=!0:(this.autoplayAllowedSaved=this.autoplayAllowed,this.autoplayAllowed=!1)}},{key:"getClassName",value:function(){return this.insiderContainer.getAttribute("class")}},{key:"getComputedSize",value:function(){return{w:window.getComputedStyle(this.dmPlayer).width,h:window.getComputedStyle(this.dmPlayer).height}}},{key:"getEnvironmentInfo",value:function(){return this.dmPlayer._environmentInfo||null}},{key:"getWidth",value:function(){return this.insiderContainer.getElementsByTagName("iframe")[0].getBoundingClientRect().width}},{key:"goToEnd",value:function(e){this.apiReady&&this.dmPlayer.duration&&(this.dmPlayer.play(),this.dmPlayer.seek(this.dmPlayer.duration))}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.apiReady&&this.autoplayAllowed&&!this.playing&&(this.playing=!0,this.dmPlayer.play(),ne.sendAction({player:this,gesture:e,uiElement:t}))}},{key:"playPause",value:function(){this.apiReady&&(this.playing?this.pause():this.play())}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.apiReady&&this.playing&&(this.pauseRequested=e,this.autopauseRequested=!this.reduced,this.playing=!1,this.dmPlayer.pause(),ne.sendAction({player:this,gesture:e,uiElement:t}))}},{key:"seek",value:function(e){this.apiReady&&this.dmPlayer.seek(e)}},{key:"setMuted",value:function(e){e||0!==this.dmPlayer.volume?this.dmPlayer.setMuted(e):this.dmPlayer.setVolume(.5)}},{key:"notifyManager",value:function(e){re.update(this.id,e)}},{key:"checkVisibility",value:function(){var e,t,i,n,a,o,r,s,l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.visibility=(e=this.insiderContainer,t=0,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n=(window.pageYOffset+window.innerHeight||document.documentElement.scrollTop+document.documentElement.clientHeight||document.body.scrollTop+document.body.clientHeight)-i,a=e.getBoundingClientRect(),o=a.top,r=a.bottom,s=a.height,o<0&&r<0?t=0:o>n&&r>n?t=0:o>0&&r<n?t=100:o<0&&r<n?t=100*r/s:o<n&&r>n&&(t=100*(n-o)/s),t),l&&!this.fullscreen&&this.notifyManager({name:"visibility",data:this.visibility})}},{key:"isHidden",value:function(){return 0===this.visibility}},{key:"isVisible25",value:function(){return 25===this.visibility}},{key:"isVisible50",value:function(){return 50===this.visibility}},{key:"isVisible75",value:function(){return 75===this.visibility}},{key:"isVisible100",value:function(){return 100===this.visibility}},{key:"destroy",value:function(){var e=re.playerList[z(this.getClassName())];DM.destroy(this.dmPlayer.id),this.removeListeners(),e.container.parentNode.parentNode.replaceChild(window.cpe._ANCHORS[e.newClassName],e.container.parentNode),delete window.cpe._ANCHORS[e.newClassName],delete re.playerList[e.newClassName],this.dmPlayer=null}},{key:"adPlaying",get:function(){return this.state.adPlaying},set:function(e){this.state.adPlaying=e}},{key:"apiReady",get:function(){return this.state.apiReady},set:function(e){this.state.apiReady=e}},{key:"collapsed",get:function(){return this.state.collapsed},set:function(e){this.state.collapsed=e}},{key:"countdownTimer",get:function(){return this.playerCountdownTimer},set:function(e){this.playerCountdownTimer=e}},{key:"dataLoaded",get:function(){return this.state.dataLoaded},set:function(e){this.state.dataLoaded=e}},{key:"ended",get:function(){return this.state.ended},set:function(e){this.state.ended=e}},{key:"expanded",get:function(){return this.state.expanded},set:function(e){this.state.expanded=e}},{key:"fullscreen",get:function(){return this.state.fullscreen},set:function(e){this.state.fullscreen=e}},{key:"initLoading",get:function(){return this.state.initLoading},set:function(e){this.state.initLoading=e}},{key:"muted",get:function(){return this.state.muted},set:function(e){this.state.muted=e}},{key:"reduced",get:function(){return this.state.reduced},set:function(e){this.state.reduced=e}},{key:"playing",get:function(){return this.state.playing},set:function(e){this.state.playing=e}},{key:"videoEnded",get:function(){return this.state.videoEnded},set:function(e){this.state.videoEnded=e}},{key:"visibility",get:function(){return this.state.visibility},set:function(e){this.state.visibility=function(e){var t=0;return 100===e?t=100:e>=75?t=75:e>=50?t=50:e>=25&&(t=25),t}(e)}}]),e}(),le=new(function(){function e(){t(this,e)}return n(e,[{key:"add",value:function(e,t,i,n,a){this.configLoader=a,this.style=document.createElement("style"),this.originalSize=i,this.responsivePlayer=n,this.addCommonStyle(t);var o=a.getAll();for(var r in o)U(o,r)&&this.hasOptionStyle(r)&&this["add".concat(j(r),"Style")](t);e.appendChild(this.style)}},{key:"addCollapseStyle",value:function(e){this.style.innerHTML+=".".concat(e," .linearHidden {\n      height: 0px;\n      -webkit-transition: ").concat(this.configLoader.collapse.direction," ").concat(this.configLoader.collapse.speed,"s ").concat(this.configLoader.collapse.type,";\n      -moz-transition: ").concat(this.configLoader.collapse.direction," ").concat(this.configLoader.collapse.speed,"s ").concat(this.configLoader.collapse.type,";\n      -ms-transition: ").concat(this.configLoader.collapse.direction," ").concat(this.configLoader.collapse.speed,"s ").concat(this.configLoader.collapse.type,";\n      -o-transition: ").concat(this.configLoader.collapse.direction," ").concat(this.configLoader.collapse.speed,"s ").concat(this.configLoader.collapse.type,";\n      transition: ").concat(this.configLoader.collapse.direction," ").concat(this.configLoader.collapse.speed,"s ").concat(this.configLoader.collapse.type,";\n    }")}},{key:"addPipStyle",value:function(e){this.style.innerHTML+="\n      @keyframes appear {\n        0% {opacity: 0;}\n        100% {opacity: 1;}\n      }\n      @keyframes disappear {\n        0% {opacity: 1;}\n        100% {opacity: 0;}\n      }\n      .".concat(e," i.cpe-btn-close {\n        z-index: 2147483647;\n        position: absolute;\n        top: 9px;\n        left: 9px;\n        width: 25px;\n        height: 25px;\n        cursor: pointer;\n        color: #ffffff;\n      }\n      .").concat(e," div.insider {\n        z-index: 2147483647;\n      }\n      .").concat(e," .pip iframe {\n        opacity: 1;\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.5), 0 6px 20px 0 rgba(0, 0, 0, 0.5);\n        position: absolute;\n      }\n      .").concat(e," .pip {\n        position: fixed;\n        ").concat(this.definePipPosition(),"\n        width: ").concat(this.configLoader.pip.width,"px;\n        height: ").concat(this.configLoader.pip.height,"px;\n        clear: both;\n      }\n      .").concat(e," .pip div.cpeClosePipBtn {\n        position: absolute;\n        z-index: 1;\n        cursor: pointer;\n        padding: 6px 9px;\n        right: 0;\n        top: -41px;\n        background-color: #000000;\n        opacity: 0;\n        object-fit: contain;\n        border-radius: 16.5px;\n        line-height: 21px;\n        font-size: 18px;\n        font-family: serif;\n      }\n      .").concat(e," .pip div.cpeClosePipBtn.alwaysDisplayed {\n        opacity: 0.45;\n      }\n      .").concat(e," .pip div.cpeClosePipBtn img.cpeClosePipPicto {\n        width: 15px !important;\n        height: 15px !important;\n        margin: 0 !important;\n      }")}},{key:"addCommonStyle",value:function(e){this.responsivePlayer?this.style.innerHTML+="\n        .".concat(e," {\n          clear: both;\n          overflow: hidden;\n          padding-bottom: 56.25%;\n  \t      height: 0;\n          position: relative;\n        }\n        .").concat(e," iframe {\n          margin: 0 !important;\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100% !important;\n          height: 100% !important;\n        }"):this.style.innerHTML+="\n        .".concat(e," {\n          width: ").concat(this.originalSize.w,";\n          height: ").concat(this.originalSize.h,";\n          clear: both;\n          overflow: hidden;\n        }\n        .").concat(e," iframe {\n          margin: 0 !important;\n        }"),this.style.innerHTML+="\n      .".concat(e," .poster {\n        background-repeat:no-repeat;\n        background-size:cover;\n        height:100%;\n        width:100%;\n        background-color: #000000;\n        opacity: 1;\n        -webkit-transition: opacity 0.5s ease-in-out;\n        -moz-transition: opacity 0.5s ease-in-out;\n        -ms-transition: opacity 0.5s ease-in-out;\n        -o-transition: opacity 0.5s ease-in-out;\n        transition: opacity 0.5s ease-in-out;\n      }\n      .").concat(e," .hide {\n        opacity: 0 !important;\n        -webkit-transition: none;\n        -moz-transition: none;\n        -ms-transition: none;\n        -o-transition: none;\n        transition: none;\n      }\n      .").concat(e," .hide.hard {\n        display: none\n      }")}},{key:"hasOptionStyle",value:function(e){return"function"==typeof this["add".concat(j(e),"Style")]}},{key:"definePipPosition",value:function(){var e=this,t=this.configLoader.pip.position.split("-"),i="bottom: ".concat(this.configLoader.pip.margin.v,"px; "),n="right: ".concat(this.configLoader.pip.margin.h,"px; ");return t.forEach(function(t,a,o){-1!==["bottom","top"].indexOf(t)&&(i=-1!==["top"].indexOf(t)?"".concat(t,":").concat(e.configLoader.pip.margin.v+41,"px; "):"".concat(t,":").concat(e.configLoader.pip.margin.v,"px; ")),-1!==["right","left"].indexOf(t)&&(n="".concat(t,":").concat(e.configLoader.pip.margin.h,"px; "))}),i+n}}]),e}()),ce=0,ue=new(function(){function e(){t(this,e)}return n(e,[{key:"load",value:function(e){this.config=new ie,this.config.init(e),this.loadAsync(),ne.setConfigVersion(this.config.version),P.debug("Loader.constructor: config used > ",this.config.getAll())}},{key:"init",value:function(){var e=this;Object.keys(re.playerList).forEach(function(t){if(!re.playerList[t].player){var i=re.playerList[t],n=e.addPlayerDiv(i.container),a=r({},i.videoId&&{video:i.videoId},i.playlistId&&{playlist:i.playlistId},{params:e.getDmPlayerOptions(i),width:"100%"});i.size&&(i.specificConfig.responsive="false",i.size.w&&(a.width=i.size.w),i.size.h&&(a.height=i.size.h));var o=new se(t,n,a,i.specificConfig,e.config.getAll());le.add(i.container.parentElement,i.newClassName,o.getComputedSize(),o.config.responsive,e.config),re.addCpePlayer(t,o)}}),re.account=this.config.account,P.log("Loader.init: PlayerList updated in Manager > ",re.playerList)}},{key:"getDmPlayerOptions",value:function(e){ce++;var t={autoplay:e&&e.attrExtractor&&e.attrExtractor.specificConfig&&e.attrExtractor.specificConfig.hasOwnProperty("pip-at-start"),mute:this.config.scrollToPlay.enable&&!this.config.scrollToPlay.sound,pubtool:"cpe-p".concat(ce),api:"postMessage",apimode:"json","ui-highlight":!!(this.config.playerStyle&&this.config.playerStyle.enable&&this.config.playerStyle.player_color)&&this.config.playerStyle.player_color,"queue-enable":!(e&&e.attrExtractor&&e.attrExtractor.specificConfig&&e.attrExtractor.specificConfig.hasOwnProperty("no-queue"))&&this.config.upNextQueue.enable,"queue-autoplay-next":!(e&&e.attrExtractor&&e.attrExtractor.specificConfig&&e.attrExtractor.specificConfig.hasOwnProperty("no-autonext"))&&this.config.autoNext.enable};if(this.config.playerStyle&&this.config.playerStyle.enable&&!1===this.config.playerStyle.subtitles_enable&&(t["subtitles-default"]=""),e&&e.attrExtractor&&e.attrExtractor.specificConfig&&e.attrExtractor.specificConfig["ads-params"]&&(t.ads_params=e.attrExtractor.specificConfig["ads-params"],e.attrExtractor.specificConfig.hasOwnProperty("ads-params-var")&&(t.ads_params=e.attrExtractor.specificConfig["ads-params"].split(".").reduce(function(e,t){return e&&e[t]},window))),e&&e.attrExtractor&&e.attrExtractor.specificConfig&&e.attrExtractor.specificConfig.hasOwnProperty("playlist-id")&&(t.playlist=e.attrExtractor.specificConfig["playlist-id"]),e&&e.attrExtractor&&e.attrExtractor.specificConfig&&e.attrExtractor.specificConfig.hasOwnProperty("no-controls")&&(t.controls="0"),e&&e.attrExtractor&&e.attrExtractor.specificConfig&&e.attrExtractor.specificConfig.hasOwnProperty("query-string")&&e.attrExtractor.specificConfig["query-string"]){var i={};e.attrExtractor.specificConfig["query-string"].replace(/([^=&]+)=([^&]*)/g,function(e,t,n){i[t]=decodeURIComponent(n)}),T(t,i)}return e&&e.attrExtractor&&e.attrExtractor.srcAttributes&&e.attrExtractor.srcAttributes&&T(t,e.attrExtractor.srcAttributes),t}},{key:"addPlayerDiv",value:function(e){var t=document.createElement("div");return t.style["background-color"]="black",e.appendChild(t),t}},{key:"loadAsync",value:function(){var e=this;"DM"in window?this.init():(window.dmAsyncInit=function(){window.dmAsyncInit=null,e.init()},function(){var e=document.createElement("script");e.async=!0,e.src="https://api.dmcdn.net/all.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}())}}]),e}());function de(e){var t;return e.getAttribute("width")&&!isNaN(Number(e.getAttribute("width")))?t=function(e){var t={};t.w=Number(e.getAttribute("width")),e.getAttribute("height")&&!isNaN(Number(e.getAttribute("height")))?t.h=Number(e.getAttribute("height")):t.h=Math.round(9*t.w/16);return t}(e):e.getAttribute("height")&&!isNaN(Number(e.getAttribute("height")))&&(t=function(e){var t={};return t.h=Number(e.getAttribute("height")),t.w=Math.round(16*t.h/9),t}(e)),t}var pe=Array.from||function(){var t=function(e){return"function"==typeof e},i=Math.pow(2,53)-1,n=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),i)},a=function(e){var t=e.next();return!Boolean(t.done)&&t};return function(i){var o,r,s,l=this,c=arguments.length>1?arguments[1]:void 0;if(void 0!==c){if(!t(c))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}var u=function(e,i){if(null!=e&&null!=i){var n=e[i];if(null==n)return;if(!t(n))throw new TypeError(n+" is not a function");return n}}(i,function(t){if(null!=t){if(["string","number","boolean","symbol"].indexOf(e(t))>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in t)return Symbol.iterator;if("@@iterator"in t)return"@@iterator"}}(i));if(void 0!==u){r=t(l)?Object(new l):[];var d,p,h=u.call(i);if(null==h)throw new TypeError("Array.from requires an array-like or iterable object");for(s=0;;){if(!(d=a(h)))return r.length=s,r;p=d.value,r[s]=c?c.call(o,p,s):p,s++}}else{var f=Object(i);if(null==i)throw new TypeError("Array.from requires an array-like object - not null or undefined");var y,g=n(f.length);for(r=t(l)?Object(new l(g)):new Array(g),s=0;s<g;)y=f[s],r[s]=c?c.call(o,y,s):y,s++;r.length=g}return r}}();!function(){if(window.fetch){var e={name:"ui_action",version:"1.0",data:{created_ts:Date.now(),info:{visitor:{onsite:!1},player:{embedder:document.location.href,embedder_hostname:document.location.hostname},landing:r({},ne.getLandingInfo(),{referer:document.referrer})},screen:ne.getScreenInfo(),action:{uuid:C(),gesture:"embed_start"}}},t={channel:"player",edward:"1.1",sent_ts:Date.now(),events:[e],stack_ctx:{player_stack:"noworker"}};window.fetch(document.currentScript&&/^(https?:)?\/\/api-stage\.dmcdn\.net\/\S+$/.test(document.currentScript.src)?"https://pebed-01.stg.dc3.dailymotion.com":"https://pebed.dm-event.net",{method:"POST",body:JSON.stringify(t)})}}();var he=function(){function e(){t(this,e)}return n(e,[{key:"init",value:function(){var e=this;"loading"!==document.readyState?this.parse():document.onreadystatechange=function(t){"loading"!==document.readyState&&e.parse()}}},{key:"parse",value:function(){var e=this.extractCpeId();if(document.onreadystatechange=null,e){re.cpeId=e,this.api=new Q,window.cpe&&void 0===window.cpe._ANCHORS&&(window.cpe._ANCHORS={},window.cpe.parse=this.parse.bind(this),window.cpe.destroy=this.destroy);var t=this.extractPlayers();this.getConfig(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.pip&&(e.pip.margin.h=Number(e.pip.margin.h),e.pip.margin.v=Number(e.pip.margin.v)),Object.keys(t).length>0&&(re.playerList=r({},t,re.playerList),ue.load(e))})}}},{key:"destroy",value:function(e){if(e){var t="string"==typeof e?document.querySelector("#".concat(e)):e;if(!t||t.nodeType!==Node.ELEMENT_NODE)return void console.error("Invalid first argument sent to window.cpe.destroy(), requires a valid element: ",e);var i=re.playerList[z(t.className)];if(!i)return void console.error("window.cpe.destroy(), fail to destroy cpe player with element:",e);re.removeCpePlayer(i)}else{if(0===Object.keys(re.playerList).length)return void console.error("window.cpe.destroy(): no cpe player to destroy");re.removeCpePlayers()}}},{key:"extractCpeId",value:function(){return window.cpe&&window.cpe.i?window.cpe.i:null}},{key:"extractPlayers",value:function(){var e,t,i,n=this,a={},o=this.extractElementFromDiv()||this.extractElementFromIframes()||[];return pe(o).forEach(function(o,r){var s=z(o.className);if(!s||!window.cpe._ANCHORS[s]){var l="cpe-"+C().substr(-5);if(window.cpe._ANCHORS[l]=o.cloneNode(!0),"DIV"===o.nodeName||"SPAN"===o.nodeName||"FIGURE"===o.nodeName?(t=o.getAttribute("video-id"),i=o.getAttribute("playlist"),e=n.createElementFromDiv(o,l)):(t=function(e){var t=null;return e&&e.getAttribute("src")&&(t=(t=/dailymotion.com\/embed\/video\/([a-zA-Z0-9]+)/.exec(e.getAttribute("src")))&&t.length>1?t[1]:null),t}(o),e=n.createElementFromIframe(o,l)),e){var c=new v(o);a[l]={container:n.getContainer(e),id:e.id,videoId:t,playlistId:i,newClassName:l,size:de(o),specificConfig:c.config,attrExtractor:c}}else P.sendError("params.001",t)}}),a}},{key:"createElementFromDiv",value:function(e,t){var i=e.getAttribute("class")?e.getAttribute("class"):"";return e.setAttribute("class","".concat(i," ").concat(t)),e}},{key:"createElementFromIframe",value:function(e,t){if(e&&e.parentNode){var i=document.createElement("div");return i.setAttribute("class","dailymotion-cpe ".concat(t)),e.id&&i.setAttribute("id",e.id),e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),i}return null}},{key:"extractElementFromDiv",value:function(){var e=document.getElementsByClassName("dailymotion-cpe");return e.length>0&&P.debug("Main.extractElementFromDiv"),e.length>0?Array.prototype.slice.call(e):null}},{key:"extractElementFromIframes",value:function(){var e=document.getElementsByTagName("iframe"),t=[];if(e.length>0){for(var i in e)e[i].src&&/\w*www.dailymotion.com\w*/.test(e[i].src)&&t.push(e[i]);P.debug("Main.extractElementFromIframes")}return t.length>0?[].concat(t):null}},{key:"getConfig",value:function(e,t){this.api.send(e,t)}},{key:"getContainer",value:function(e){return this.addInsiderDiv(e),e.getElementsByClassName("insider")[0]}},{key:"addInsiderDiv",value:function(e){var t=document.createElement("div");t.setAttribute("class","insider"),e.appendChild(t)}}]),e}();return(new he).init(),he}();
