(this.beop__d=this.beop__d||[]).push([[4],{113:function(e,t,i){"use strict";function n(e,t){var i=void 0!==e?e:0;return(0!==t?(Math.round(t*Math.pow(10,i))/Math.pow(10,i)).toFixed(i):"0")+"%"}i.d(t,"a",(function(){return n}))},132:function(e,t,i){"use strict";i.d(t,"a",(function(){return _}));var n=i(2),r=i(25),a=i(20),o=i(76),s=i(1),c=i(26),l=i(0),d=i(3),u=i(5),m=i(6),f=i(46),x=i(114),p=i(75),h=i(99),v=i(145),g=i(92),E=i(81),b=i(168),y=i(105),k=i(143),w=i(79),S=i(89),C=i(169),I=i(173),j=i(80),O={display:"flex",padding:"20px",alignItems:"center",flexDirection:"row",justifyContent:"center"},A=r.lazy((function(e){return Promise.all([i.e(5),i.e(31)]).then(i.bind(null,183)).then((function(e){return Promise.resolve({default:e.make})}))}));var _=function(e){var t=e.apiUrl,i=e.credentials,_=e.insertionId,T=e.slotName,P=e.question,G=e.creative,M=e.theme,L=e.context,R=e.onPressExit,z=e.pixel,D=e.ownerId,N=e.welcomeMessage,V=e.commit,W=e.onCommitChange,q=e.sessionId,F=e.showOptins,U=e.publisherId,B=e.externalLogStatus,X=e.requestExternalLog,Z=void 0===F||F,H=p.a((function(e){return{statistics:0}}),(function(e,r){return e?{TAG:0,_0:{statistics:{_0:e._0}}}:{TAG:1,_0:{statistics:1},_1:function(e){var r=e.send;l.f(P.id,(function(e){return u.h(b.a(t,i,e),(function(e){return n.a(r,{_0:e})}))}))}}})),Y=H[1];r.useEffect((function(){n.a(Y,0),m.d(L)&&c.c(z,{TAG:19,_0:L})}),[]);var J=H[0].statistics;if("number"==typeof J)return r.createElement("div",{style:O},r.createElement(E.a,{color:"#"+f.b,size:24}));var K=J._0;if(K.TAG)return null;var Q=K._0,$={credentials:i,creative:G,apiUrl:t,commit:V,onCommitChange:W,sessionId:q,loginType:G.loginType,render:function(e){var n,c=l.a(o.b(V,L),(function(e){if(!e.TAG){var t=e._0;if("number"!=typeof t){var i=t._0;return i.TAG?void 0:i._0}}})),u=P.hideResults,m=P.choices;if(u){var f={showCheck:P.showEndscreenCheck};void 0!==P.hiddenResultsMessage&&(f.thanksMessage=d.d(P.hiddenResultsMessage)),void 0!==P.hiddenResultsMessageRich&&(f.thanksMessageRich=d.d(P.hiddenResultsMessageRich)),n=r.createElement(S.a,f)}else{var x=0,p=m.length;if(p>=3)x=1;else switch(p){case 0:x=1;break;case 1:var E=k.a(!1,void 0,Q.statistics.opinions),b=a.c(Q.statistics.opinions)?a.f("{{n}} votants",[["n",E]]):a.f("{{n}} votant",[["n",E]]);n=r.createElement(S.a,{thanksMessage:v.a(G,Q.statistics.opinions)?b:"Merci !"});break;case 2:var O={question:P,statistics:Q,theme:M,context:L,onPressExit:R,creative:G};void 0!==c&&(O.commit=d.d(c)),n=r.createElement(C.a,O)}if(1===x){var W={question:P,statistics:Q,theme:M,creative:G,onPressExit:R,context:L};void 0!==c&&(W.commit=d.d(c)),n=r.createElement(I.a,W)}}var F,B=o.b(V,L);if(void 0===B||B.TAG)F=G.defaultExit;else{var X=B._0;if("number"==typeof X)F=G.defaultExit;else{var H=X._0;F=H.TAG?G.defaultExit:l.g(s.f(s.k(H._0.choices,(function(e){return l.a(s.f(P.choices,e),(function(e){return e[1].exit}))})),0),G.defaultExit,(function(e){return e}))}}var Y={creative:G,theme:M,insertionId:_,slotName:T,buttonLabel:"Réponse",brick:{TAG:0,_0:P}},J=l.a(P.media,(function(e){return"string"==typeof e||"Image"!==e.NAME?void 0:e.VAL.url}));void 0!==J&&(Y.backgroundImage=d.d(J));var K=l.a(P.sharingMedia,(function(e){return"string"==typeof e||"Image"!==e.NAME?void 0:e.VAL.url}));return void 0!==K&&(Y.shareImage=d.d(K)),r.createElement("div",void 0,r.createElement(y.a,{apiUrl:t,ownerId:D,credentials:i,theme:M,welcomeMessage:N}),n,r.createElement(r.Fragment,void 0,l.c(l.f(F,(function(e){return r.createElement(j.a,{children:r.createElement(w.a,{exit:e,context:L,onPress:R,theme:M})})})),null),l.c(l.f(P.resultExit,(function(e){return r.createElement(j.a,{children:r.createElement(w.a,{exit:e,context:L,onPress:R,theme:M,autoOpen:l.d(F)})})})),null)),r.createElement(h.a,Y),Z?r.createElement(g.a,{creative:G,pixel:z,context:L,credentials:i,apiUrl:t,commit:V,theme:M,sessionId:q,publisherId:U}):null,P.displayComments?r.createElement(r.Suspense,{children:r.createElement(A,{context:L,pixel:z,apiUrl:t,credentials:i,theme:M}),fallback:null}):null)},context:L,pixel:z,theme:M,publisherId:U,externalLogStatus:B};return void 0!==X&&($.requestExternalLog=d.d(X)),r.createElement(x.a,$)}},145:function(e,t,i){"use strict";function n(e,t){var i=e.showCounters;return"number"==typeof i?0!==i:t>=i._0}i.d(t,"a",(function(){return n}))},168:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var n=i(1),r=i(0),a=i(3),o=i(5),s=i(18),c=i(12),l=i(15);function d(e){return r.g(a.b(e.statistics),{opinions:0},(function(e){return{opinions:r.c(a.b(e.opinions),0)}}))}function u(e){return{statistics:d(e)}}function m(e){return r.g(a.b(e.statistics),{opinions:0},(function(e){return{opinions:r.c(a.b(e.opinions),0)}}))}function f(e,t,i){return o.f(c.a(e+"/questions/"+i+"?request_method=get","POST",a.c(s.j(s.i(["statistics","choices.statistics"],void 0,void 0,void 0,void 0,void 0))),void 0,void 0,void 0,void 0,void 0,void 0,t),(function(e){var t,i;try{t={TAG:0,_0:(i=e,{choices:n.n(i.choices,u),statistics:m(i)})}}catch(e){t={TAG:1,_0:{TAG:3,_0:l.a(e)}}}return o.o(t)}))}},169:function(e,t,i){"use strict";i.d(t,"a",(function(){return G}));var n=i(25),r=i(8),a=i(1),o=i(73),s=i(0),c=i(91),l=i(46),d=i(34),u=i(7),m=i(170),f=i(75),x=i(145),p=i(171),h=i(113),v=i(119),g=i(172),E={display:"flex",minWidth:"60px",flexDirection:"column",flexGrow:"1",flexShrink:"0"},b={fontSize:"20px",fontWeight:"700",flexGrow:"0",flexShrink:"0"},y={fontSize:"12px",flexGrow:"0",flexShrink:"0"},k={fontSize:"16px",fontWeight:"700",whiteSpace:"pre-line",flexGrow:"1",flexShrink:"0",wordBreak:"break-word"},w={margin:"0 -1px",padding:"5px 0",flexGrow:"0",flexShrink:"0"},S={margin:"0 -12px 0",padding:"5px 0 10px",flexGrow:"0",flexShrink:"0"};function C(e){var t=e.choice,i=e.votes,r=e.maxVotesPerChoice,a=e.totalVotes,o=e.atLeastOneChoiceExit,c=e.alignTo,l=e.theme,d=e.creative,u=e.context,f=e.onPressExit,C=e.isActive,I=i/(1>a?1:a)*100,j={textAlign:c?"right":"left"},O={alignItems:c?"flex-end":"flex-start"},A=C?0:g.b,_=void 0===t.exit&&o?v.b:0;return n.createElement(n.Fragment,void 0,n.createElement("div",{style:Object.assign({},E,O)},n.createElement(p.a,{media:t.media,size:32}),n.createElement("div",{style:Object.assign({},Object.assign({},b,{color:r===i?l.color:"inherit"}),j)},h.a(void 0,I)),n.createElement("div",{style:Object.assign({},Object.assign({},k,j),{flexGrow:o?"1":"0"})},t.value),x.a(d,a)?n.createElement("div",{style:Object.assign({},y,j)},n.createElement(m.a,{value:i,decimals:!1})):null,C?n.createElement("div",{style:w},g.a):n.createElement("div",{style:w},n.createElement("div",{style:{height:String(A)+"px",flexShrink:"0"}})),s.c(s.f(t.exit,(function(e){return n.createElement("div",{style:Object.assign({},S,{left:c?"auto":"0",right:c?"0":"auto"})},n.createElement(v.a,{exit:e,theme:l,context:u,onPress:f,showText:!1}))})),o?n.createElement("div",{style:S},n.createElement("div",{style:{height:String(_)+"px",flexShrink:"0"}})):null)))}var I={display:"flex",alignItems:"stretch",flexDirection:"row"},j={display:"flex",flexBasis:"50%",flexDirection:"column",flexGrow:"0"},O=Object.assign({},j,{paddingLeft:"10px",alignItems:"flex-end"}),A=Object.assign({},j,{paddingRight:"10px",alignItems:"flex-start"}),_={maxWidth:"200px",alignSelf:"center",flexBasis:"50%"},T={display:"block",paddingTop:"80%",position:"relative"},P={height:"100%",left:"50%",position:"absolute",top:"50%",width:"100%",transform:"translate(-50%, -50%)"};var G=function(e){var t=e.question,i=e.statistics,m=e.theme,x=e.context,p=e.onPressExit,h=e.creative,v=e.commit,g=f.a((function(e){return{id:r.a(void 0)}}),(function(e,t){return 0}))[0],E=d.a(a.A(a.o(t.choices,(function(e,t){return[e,t]})),i.choices),(function(e,t){return u.f(e[1].statistics.opinions,t[1].statistics.opinions)})),b=a.p(a.n(i.choices,(function(e){return e.statistics.opinions})),0,(function(e,t){return e>t?e:t})),y=a.z(E,(function(e){return s.e(e[0][1][1].exit)}));if(2!==E.length)return null;var k=E[0],w=k[0],S=w[0],j=E[1],G=j[1],M=j[0],L=M[0],R=G.statistics.opinions/(1>i.statistics.opinions?1:i.statistics.opinions),z=70*Math.PI,D=z*(1-R),N=-R/2*360,V=-R/2*360;return n.createElement("div",{style:Object.assign({},I,{alignItems:y?"stretch":"center"})},n.createElement("div",{style:O},n.createElement(C,{choice:w[1][1],votes:k[1].statistics.opinions,maxVotesPerChoice:b,totalVotes:i.statistics.opinions,atLeastOneChoiceExit:y,alignTo:1,theme:m,creative:h,context:x,onPressExit:p,isActive:s.c(s.f(v,(function(e){return!!c.d(c.c(e.choices),S)})),!1)})),n.createElement("div",{style:_},n.createElement("div",{style:T},n.createElement("svg",{style:P,viewBox:"0 0 90 90",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.createElement("circle",{cx:"45",cy:"45",fill:"none",r:"35",stroke:"#"+(o.b(m.backgroundColor)?"#000":l.d),strokeLinecap:"round",strokeWidth:"8px"}),n.createElement("circle",{id:"progress"+g.id,cx:"45",cy:"45",fill:"none",r:"35",stroke:m.color,strokeDasharray:""+z,strokeDashoffset:""+D,strokeLinecap:"round",strokeWidth:"8px",transform:"rotate("+N+" 45 45)"}),n.createElement("animate",{attributeName:"stroke-dashoffset",dur:"400ms",from:""+z,to:""+D,xlinkHref:"#progress"+g.id}),n.createElement("animateTransform",{type:"rotate",attributeName:"transform",dur:"400ms",from:"0 45 45",to:V+" 45 45",xlinkHref:"#progress"+g.id})))),n.createElement("div",{style:A},n.createElement(C,{choice:M[1][1],votes:G.statistics.opinions,maxVotesPerChoice:b,totalVotes:i.statistics.opinions,atLeastOneChoiceExit:y,alignTo:0,theme:m,creative:h,context:x,onPressExit:p,isActive:s.c(s.f(v,(function(e){return!!c.d(c.c(e.choices),L)})),!1)})))}},170:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i(25),r=i(0),a=i(3),o=i(160),s=i(143);var c=function(e){var t=e.value,i=e.decimals,c=e.accessibilityUnit,l=e.unit,d=e.additionalClassName,u=void 0===i||i,m={style:{whiteSpace:"nowrap"}};return void 0!==d&&(m.className=a.d(d)),n.createElement("span",m,s.a(u,l,t),r.c(r.f(c,(function(e){return n.createElement(o.a,{inline:!0,text:e})})),null))}},171:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(25),r={backgroundColor:"#"+i(46).d,backgroundPosition:"50% 50%",paddingBottom:"100%",backgroundSize:"cover"};var a=function(e){var t=e.media,i=e.size,a=e.radius,o=void 0!==a?a:7,s=String(i);return void 0!==t&&"string"!=typeof t&&"Image"===t.NAME?n.createElement("div",{style:{height:s+"px",width:s+"px",flexShrink:"0"}},n.createElement("div",{style:Object.assign({},r,{backgroundImage:'url("'+t.VAL.thumbnailUrl+'")',borderRadius:String(o)+"px"})})):null}},172:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return a}));var n=i(25),r=n.createElement("svg",{"aria-label":"Votre choix",style:{display:"block",overflow:"visible"},height:"14",width:"14",version:"1.1",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1"},n.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},n.createElement("circle",{cx:"6.25",cy:"6.25",r:"6"}),n.createElement("path",{d:"M8.924,4.505 L6.019,8.379 C5.88825806,8.55267425 5.68875708,8.66127411 5.47192754,8.67680302 C5.25509799,8.69233192 5.04215707,8.61327034 4.888,8.46 L3.388,6.96"})))),a=14},173:function(e,t,i){"use strict";i.d(t,"a",(function(){return F}));var n=i(2),r=i(25),a=i(1),o=i(73),s=i(0),c=i(91),l=i(78),d=i(46),u=i(34),m=i(170),f=i(75),x=i(145),p=i(83),h=i(74),v=i(171),g=i(113),E=i(119),b=i(101),y=i(172),k=p.a({animation:[[0,[["transform","scaleX(0) translateZ(0)"]]],[100,[["transform","scaleX(100%) translateZ(0)"]]]]}),w=p.a({animation:[[0,[["clip-path","polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"],["-webkit-clip-path","polygon(0% 0%, 0% 0%, 0% 100%, 0% 100%)"]]]]}),S={display:"flex",margin:"5px 0",alignItems:"stretch",flexDirection:"row"},C={backgroundColor:"#"+d.d,display:"flex",marginRight:"10px",marginLeft:"10px",overflow:"hidden",position:"relative",zIndex:"1",borderRadius:"14px",alignItems:"center",flexDirection:"row",flexGrow:"1"},I=Object.assign({},C,{backgroundColor:"rgba(255, 255, 255, 0.2)"}),j=Object.assign({},C,{paddingRight:"24px",boxSizing:"border-box"}),O=Object.assign({},I,{paddingRight:"24px",boxSizing:"border-box"}),A={position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"},_={display:"flex",marginLeft:"10px",alignItems:"flex-end",flexDirection:"column",flexShrink:"0",justifyContent:"center"},T={fontWeight:"700",textAlign:"right"},P={textAlign:"right"},G={bottom:"0",left:"0",position:"absolute",top:"0",borderRadius:"14px",animationDelay:"300ms",animationDuration:"300ms",animationFillMode:"backwards",animationName:k.name,animationTimingFunction:"ease-out",transform:"translateZ(0)",transformOrigin:"0 0"},M={bottom:"0",display:"flex",left:"0",position:"absolute",right:"0",top:"0",zIndex:"1",alignItems:"stretch",flexDirection:"row",justifyContent:"flex-start"},L={borderRadius:"14px",animationDelay:"300ms",animationDuration:"300ms",animationFillMode:"backwards",animationName:w.name,animationTimingFunction:"ease-out",transformOrigin:"0 0"},R={padding:"10px",position:"relative"},z={bottom:"0",display:"flex",left:"0",position:"absolute",right:"0",top:"0",alignItems:"center",flexDirection:"row",justifyContent:"flex-start"},D=Object.assign({},R,{paddingRight:"34px"}),N={display:"flex",marginLeft:"-10px",alignItems:"center",justifyContent:"center"},V={width:"70px",flexShrink:"0"},W={display:"flex",margin:"15px 0",flexDirection:"row",justifyContent:"center"},q={border:"1px solid #"+d.b,padding:"7px 10px",borderRadius:"7px"};var F=function(e){var t=e.question,i=e.statistics,d=e.theme,p=e.creative,F=e.onPressExit,U=e.context,B=e.commit,X=f.a((function(e){return{expanded:!p.isSponsored||t.choices.length<5}}),(function(e,t){return{TAG:0,_0:{expanded:!0}}})),Z=X[1],H=o.c(d.color)?"#000":"#fff",Y=r.useContext(b.a)[0]>460,J=a.z(t.choices,(function(e){return s.e(e[1].exit)})),K=function(e){return s.c(s.f(B,(function(t){return c.d(c.c(t.choices),e)})),!1)},Q=a.p(a.n(i.choices,(function(e){return e.statistics.opinions})),0,(function(e,t){return e>t?e:t})),$=a.n(a.t(u.a(a.A(a.o(t.choices,(function(e,t){return[e,t]})),i.choices),(function(e,t){return t[1].statistics.opinions>e[1].statistics.opinions?-1:1}))),(function(e){var t=e[1].statistics.opinions,n=e[0],a=n[1],c=a[1],u=n[0],f=Math.round(t/(1>i.statistics.opinions?1:i.statistics.opinions)*100),h=o.b(d.backgroundColor),b=K(u),k=t/Q*100,w=t/Q*100,W="polygon(0% 0%, "+w+"% 0%, "+w+"% 100%, 0 100%",q=c.exit;return r.createElement("div",{key:a[0],style:S},r.createElement("div",{style:Object.assign({},_,{width:Y?"60px":"50px"})},r.createElement("div",{style:Object.assign({},T,{color:Q===t?d.color:"inherit",fontSize:Y?"20px":"16px"})},g.a(void 0,f)),x.a(p,i.statistics.opinions)?r.createElement("div",{style:Object.assign({},P,{fontSize:Y?"12px":"10px"})},r.createElement(m.a,{value:t,decimals:!1})):null),s.e(c.media)?r.createElement("div",{style:{width:"10px",flexShrink:"0"}}):null,r.createElement(v.a,{media:c.media,size:40,radius:14}),r.createElement("div",{style:h?b?O:I:b?j:C},r.createElement("div",{style:Object.assign({},G,{backgroundColor:t===Q?d.color:"#889db1",width:k+"%"})}),r.createElement("div",{style:R},c.value),r.createElement("div",{"aria-hidden":!0,style:M},r.createElement("div",{style:Object.assign({},L,l.a({width:"100%",clipPath:W},"WebkitClipPath",W))},r.createElement("div",{style:z},r.createElement("div",{style:Object.assign({},K(u)?D:R,{color:H})},c.value),K(u)?r.createElement("div",{style:Object.assign({},A,{color:H})},y.a):null))),K(u)?r.createElement("div",{style:A},y.a):null),void 0!==q?r.createElement("div",{style:N},r.createElement(E.a,{exit:q,theme:d,context:U,onPress:F,showText:!1})):J?r.createElement("div",{style:N},r.createElement("div",{style:V})):null)}));return r.createElement("div",void 0,r.createElement(k.Style.make,{}),r.createElement(w.Style.make,{}),X[0].expanded?$:r.createElement(r.Fragment,void 0,a.x($,0,4),r.createElement("div",{style:W},r.createElement(h.a,{onPress:function(e){return n.a(Z,0)},style:q,children:"Voir plus"}))))}}}]);