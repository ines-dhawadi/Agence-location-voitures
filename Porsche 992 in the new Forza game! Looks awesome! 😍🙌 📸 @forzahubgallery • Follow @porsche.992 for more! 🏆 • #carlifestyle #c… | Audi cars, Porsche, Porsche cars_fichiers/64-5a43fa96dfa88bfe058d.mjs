(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[64,14],{"+zF7":function(e,t,n){var a=n("LqyK"),i=n("TN0d"),r=n("eOdZ"),o=n("G35+"),s=n("dwea"),c=n("mBfy");function l(){}Object.assign(l.prototype,{handleConnect(e,t,n){if(t&&!c.default.isLimitedLogin()){const i={success:function(a){const i={network:e,data:a};this._internalConnectNetwork(t,i,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?i.windowOptions="width=600,height=800":"instagram"===e?i.windowOptions=a.default.getWindowOptions(580,580):"etsy"===e?i.windowOptions=a.default.getWindowOptions(580,775):"youtube"===e&&(i.windowOptions=a.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,i)}else{const a={network:e};this._internalConnectNetwork(t,a,n)}},updateConnectStatus(){r.a.create("UserResource",{user_id:c.default.get("id"),username:c.default.get("username"),field_set_key:"social_connect"}).callGet().then(e=>{const t=e.resource_response.data;c.default.set(t),i.a.instance.publish("currentUser","socialNetworkUpdated",t)})},_externalConnectNetwork(e,t,n){t?o.a.instance().connect(e,n):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const a=r.a.create("UserSocialNetworkResource",t);(e?a.callCreate():a.callDelete()).then(e=>{this.updateConnectStatus(),n.success&&n.success(e)},e=>{n.error&&e instanceof Object&&n.error(e)}).finally(()=>{n.complete&&n.complete()})},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case o.a.FACEBOOK:t="UserFacebookFriendsResource";break;case o.a.TWITTER:t="UserTwitterFriendsResource";break;case o.a.GOOGLE:t="UserGmailFriendsResource";break;case o.a.MICROSOFT:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},a=this._getResourceNameForNetworkFriends(e);if(!a)return;const i=r.a.create(a,n);i.callGet({showError:!1}).then(()=>{const e=t.success;e&&e(i)},n=>{if(110===n.api_error_code)s.a.setTimeout(()=>{this.pollForFriends(e,t)},1e3);else{const e=t.error;e&&e()}})}});let d=null;l.instance=function(){return d||(d=new l),d},t.a=l},"0S8y":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c}));var a=n("fAMq");function i(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const a=n.split(/ (.+)/);return""===a[0]&&a.shift(),a.length>0&&(t.first_name=a[0]||""),a.length>1&&(t.last_name=a[1]||""),t}function r({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),i=Object(a.h)(-t,n),r=new Date;return!Object(a.g)(r,i)}function o({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,i=new Date,r=n?new Date(n):i,o=Object(a.c)(r,t);return Object(a.g)(o,i)}function s(e){return e&&e[1000069]&&500417===e[1000069].experience_id}function c(e){var t;return 502450===(null==e||null===(t=e[1000294])||void 0===t?void 0:t.experience_id)}},"0rqB":function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),i=n.n(a),r=n("clxp"),o=n("n6mq");function s({children:e,group:t,isEligible:n,name:a,performsActivate:r}){let s=r?"#0f0":"#00f";return n||(s="#999"),i.a.createElement(o.d,{position:"relative"},e,i.a.createElement(o.d,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 2px 2px "+s,borderRadius:5}}}),i.a.createElement(o.d,{position:"absolute",top:!0,left:!0,color:"lightGray"},a,": ",t))}var c=n("NVsV");const l=i.a.memo(({activate:e=!0,activateExperiment:t,isEligible:n=!0,name:o,group:c,overrideGroup:l=null,highlighted:d=!1,children:u})=>{Object(a.useEffect)(()=>{e&&n&&t&&t(o)},[]);const h=()=>"string"==typeof l?l:c,p=h(),m=`Experiment(${o}:${p})`,f=n&&p&&(p.startsWith("enabled")||p.startsWith("employee"))||!1,g={group:n?p:"",anyEnabled:f,customActivate:n&&!e?()=>n?t(o):"":null};return(t=>{const a=h();return d?i.a.createElement(s,{group:a,isEligible:n,name:o,performsActivate:e},t):t})(i.a.createElement(r.a,{name:m},u(g)))});function d(e){const{name:t}=e,{debuggingEnabled:n,overriddenExperiments:r,highlightedExperiment:o,setExperimentVisible:s}=Object(a.useContext)(c.c),d=n&&r&&"string"==typeof r[t]?r[t]:null,u=n&&(o===t||o===c.a);return Object(a.useEffect)(()=>{if(n)return s(t,!0),()=>s(t,!1)},[t,n]),i.a.createElement(l,Object.assign({},e,{overrideGroup:d,highlighted:u}))}},"1Nkp":function(e,t,n){var a=n("kmwA"),i=n("28DW");const r={scope:"profile email",client_id:a.a.settings.GPLUS_CLIENT_ID,app_package_name:a.a.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},o=e=>(Object(i.a)("unauth_web.gapi_auth2_load.success"),e()),s=e=>{Object(i.a)("unauth_web.init_google.sdk."+e)};t.a=(e=r)=>new Promise((t,n)=>{s("start"),window.gapi.auth2?(s("exists"),window.gapi.auth2.init(e).then(()=>o(t))):(s("load"),window.gapi.load("auth2",{callback:()=>{s("load_success"),window.gapi.auth2.init(e).then(()=>o(t))},onerror:()=>{s("load_error"),n()},timeout:15e3,ontimeout:()=>{s("load_timeout"),n()}}))})},"4dcN":function(e,t,n){(function(e){var a=n("zwad");let i;void 0===i&&(i=e),i._gaq=i._gaq||[];let r=[];const o=function(e){if(r.length)for(let t=0;t<r.length;t+=1){const n=r[t];i._gaq.push(["_setAccount",n]),i._gaq.push(e)}},s=function(e){if(r=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},c=2,l=3,d={};d.init=function(e,t){s(e),o(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",c])},d.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:a,viewingUser:i}){s(e),t?(a?o(["_setCustomVar",1,"adminUser",a.toString(),l]):i&&i.id?o(["_setCustomVar",1,"viewingUser",i.id.toString(),l]):o(["_setCustomVar",1,"is_logged_in","logged in",l]),n&&n.id&&o(["_setCustomVar",3,"advertiserId",n.id,l])):o(["_setCustomVar",1,"is_logged_in","logged out",l])};const u=function(e,t){let n=e;const i=a.a.getQueryStringParams(t).q;return i&&(n+="?"+a.a.getQueryStringFromObject({q:i})),n};d.trackPageview=function(e){o(["_setCustomVar",2,"page_name",e,l]),o(["_trackPageview",u(i.location.pathname,i.location.search)]),o(["_setPageGroup",1,e])},d.trackEvent=function(e,t,n,a,i){o(["_trackEvent",e,t,n,a,i])},d.trackCategoryEvent=function(e,t,n){d.trackEvent(e+"_"+t,n)},t.a=d}).call(this,n("yLpj"))},"51gp":function(e,t,n){n.d(t,"a",(function(){return _}));var a=n("q1tI"),i=n.n(a),r=n("sEfC"),o=n.n(r),s=n("vYDk");var c=n("BEAQ"),l=n("9pre"),d=n("U4JR"),u=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=[0,.25,.5,.75,.95,.97],m=[0,.5,.8,1],f={threshold:m},g={rootMargin:"-64px 0px 0px 0px",threshold:l.c},b=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function y(){return(new Date).getTime()}function v(e){return!!e.volume&&e.volume>0}class _ extends i.a.Component{constructor(e){super(e),h(this,"videoWrapperRef",i.a.createRef()),h(this,"handleWindowResize",()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),h(this,"handlePlayheadDown",({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),h(this,"handlePlayheadUp",({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),h(this,"handleLoop",()=>{this.videoTime=0}),h(this,"handleTimeChange",e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const a=1e3*e.time,i=function(e,t,n,a){if(e>t)return null;if(n<=0)return null;for(const i of a){const a=i*n;if(e<=a&&t>a)return i}return null}(this.videoTime,a,this.currentInterval.videoDuration,p);if("number"==typeof i&&this.props.playing&&!t&&n){const e=y();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*i),quartilePercentValue:i})}this.videoTime=a,this.props.onTimeChange&&this.props.onTimeChange(e)}),h(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),h(this,"handleReady",e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),h(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),h(this,"handleVisibilityChange",(e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],a=function(e,t){for(let n=0;n<t.length;n+=1){const a=t[n],i=t[n+1];if(null==i)return a;if(a<=e&&e<i)return a}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),m);null==a||a===this.currentInterval.viewability||this.fullscreen||(0===a?this.startNewInterval({viewability:a,playbackState:b.PAUSED}):this.startNewInterval({viewability:a}))}),h(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),h(this,"handleClose",()=>{this.startNewInterval()}),h(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1};const t=y();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:v(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};v(e)&&!v(this.props)?n.isAudible=!1:!v(e)&&v(this.props)&&(n.isAudible=!0);const a=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==a&&(n.playbackState=a),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?b.PLAYING:b.PAUSED:b.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:n}=this.props,{height:a,width:i,windowHeight:r,windowWidth:o,viewability:s,...c}=t;if(null!=a&&null!=i&&null!=r&&null!=o&&null!=s){const t={...c,height:a,width:i,windowHeight:r,windowWidth:o,viewability:s};Object(d.a)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:a,videoStartTime:i,videoEndTime:r,isAudible:o,height:s,width:c,playbackState:l,quartile:d,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:m}},...f}=e;return{...f,eventData:{videoEventData:{videoDuration:t,time:n,endTime:a,videoTime:i,endVideoTime:r,isAudible:o,height:s,width:c,playbackState:l,quartile:d,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:m}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=y();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=y();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:a,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:l,captions:d,contextLogData:u,controls:h,cropHeight:p,hlsConfig:m,inAdsDesktopVideoExperiment:b,loop:y,objectFit:v,onLoadedChange:_,onPause:E,onPlay:w,onSeek:C,onVolumeChange:S,playbackRate:T,playing:O,playsInline:P,poster:k,preload:I,rootMargin:L,src:j,videoStartTime:D,volume:x}=this.props,{seeking:R}=this.state,A=b?g:f;return void 0!==L&&(A.rootMargin=L),i.a.createElement(s.a,{options:A,onVisibilityChange:this.handleVisibilityChange},i.a.createElement("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,style:p?{display:"flex",alignItems:"center",height:"236px"}:{}},i.a.createElement(c.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:a,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:l,captions:d,contextLogData:u,controls:h,hlsConfig:m,loop:y,objectFit:v,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:_,onLoop:this.handleLoop,onPause:E,onPlay:w,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:C,onTimeChange:this.handleTimeChange,onVolumeChange:S,playbackRate:T,playing:!R&&O,playsInline:P,poster:k,preload:I,src:j,videoStartTime:D,volume:x})))}}h(_,"defaultProps",u.ab.defaultProps)},"7jH2":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i.a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return f})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return E.a})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return T})),n.d(t,"s",(function(){return O})),n.d(t,"t",(function(){return P})),n.d(t,"u",(function(){return k})),n.d(t,"v",(function(){return I})),n.d(t,"w",(function(){return L})),n.d(t,"x",(function(){return D})),n.d(t,"y",(function(){return x})),n.d(t,"z",(function(){return R})),n.d(t,"A",(function(){return M}));var a=({closeupPaneWidth:e,imgSrc:t,isGif:n,pin:a,showCloseupContentRight:i})=>{const r=v(Object(E.a)({pin:a})),{image564x:o={}}=f(r)||{},{imageOrig:s={}}=b(r)||{},c=0===Object.keys(o).length?s:o,l=c.height,d=c.width,{image236x:u={}}=m(v(Object(E.a)({pin:a})))||{},h=u.url,p=Math.max(Math.min(d,e),60),g=p/d*l;return{alt:a.description,src:n?t:h,naturalHeight:g,naturalWidth:p}},i=n("Nle8");function r(e){return!e.is_promoted}var o=e=>{const t=(e||[]).reduce((e,t)=>t.name?e.concat({name:t.name}):e,[]);return t.length>0?t:null};function s(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}var c=n("pOug");var l=Object(c.a)(e=>{const{richMetadata:t}=e,{article:n}=t,{name:a,description:i,authors:r,date_published:s}=n||{};return a?{...e,article:{name:a,description:i,authors:o(r),datePublished:s&&new Date(s)||void 0}}:null});var d=Object(c.a)(e=>{const{attribution:t}=e.pin,{author_url:n,url:a,author_name:i,title:r,provider_name:o,cc_url:s,embed:c}=t||{};return o&&a?{...e,attribution:{providerUrl:a,providerName:o,title:r,authorUrl:n,authorName:i,ccUrl:s,embed:c}}:null});var u=Object(c.a)(e=>{const{categorizedIngredients:t}=e.recipe;return t&&t.length>0?{...e,categorizedIngredients:t}:null});var h=Object(c.a)(e=>{const{display_name:t}=e.richSummary;return t?{...e,displayName:t}:null});const p=e=>t=>{const{images:n}=t,a=n[e],{url:i,width:r,height:o}=a||{};return i&&r&&o?{url:i,width:r,height:o}:null},m=Object(c.a)(e=>{const t=p("236x")(e);return t&&{...e,image236x:t}}),f=Object(c.a)(e=>{const t=p("564x")(e);return t&&{...e,image564x:t}}),g=Object(c.a)(e=>{const t=p("736x")(e);return t&&{...e,image736x:t}});var b=Object(c.a)(e=>{const{images:t}=e,n=t.orig,{url:a,width:i,height:r}=n||{};return a&&i&&r?{...e,imageOrig:{url:a,width:i,height:r}}:null});var y=Object(c.a)(e=>{const{embed:t}=e.pin,{type:n,src:a,subtype:i}=t||{},{attribution:r={}}=d(e)||{},{embed:o={}}=r,{src:s}=o,c=a||s;return c?{...e,embed:{type:n,src:c,subtype:i}}:null});var v=Object(c.a)(e=>{const{pin:t}=e,{images:n}=t,a=Object.keys(n||{}).reduce((e,t)=>{const a=n[t],{url:i,width:r,height:o}=a;return e&&i&&r&&o?{...e,[t]:{url:i,width:r,height:o}}:null},{});return a&&Object.keys(a).length>0?{...e,images:a}:null});var _=Object(c.a)(e=>{const{pin:t}=e,{tracked_link:n,link:a}=t,i=n||a;return i?{...e,link:i}:null}),E=n("O1y+");Object(c.a)(e=>{const{pin:t}=e,{aggregated_pin_data:n}=t,{pin_tags:a}=n||{};return a?{...e,pinTags:a}:null});var w=Object(c.a)(e=>{const{pin:t,richMetadata:n}=e,{buyable_availability:a}=t,{products:i}=n,r=Array.isArray(i)?i.map(e=>{const{name:t,offer_summary:n}=e,{in_stock:i,min_price:r,max_price:o,price:s}=n||{};let c=null;return void 0!==r&&void 0!==o?c=`${r} - ${o}`:void 0!==s&&(c=""+s),t?{name:t,outOfStock:!1===a||!1===i,priceText:c}:null}).filter(e=>null!==e):[];return r.length>0?{...e,products:{first:r[0],rest:r.slice(1)}}:null}),C=n("PsyL");const S=e=>{const{h:t,m:n}=e||{},a={hours:t||0,minutes:n||0};return void 0!==t||void 0!==n?{h:t,m:n,time:a,isoDuration:Object(C.a)(a)}:null};var T=Object(c.a)(e=>{const{richMetadata:t}=e,{recipe:n}=t,{name:a,categorized_ingredients:i,diets:r,from_aggregated_data:o,cook_times:s,servings_summary:c}=n||{},{total:l,cook:d,prep:u}=s||{},{summary:h}=c||{},p=S(u),m=S(d),f=S(l);return a?{...e,recipe:{name:a,categorizedIngredients:i,diets:r,fromAggregatedData:o,prepTime:p,cookTime:m,totalTime:f,servingSummary:h}}:null});var O=Object(c.a)(e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null});var P=Object(c.a)(e=>{const{rich_summary:t}=e.pin;return t?{...e,richSummary:t}:null});var k=Object(c.a)(e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null});var I=Object(c.a)(e=>{const{pin:t,inChangeTitlesExp:n}=e,{carousel_data:a,title:i,closeup_unified_title:r}=t;let o=n?r:i;if(a){const{carousel_slots:e=[],index:t}=a;e[t]&&e[t].title&&(o=e[t].title)}return o?{...e,title:o}:null});var L=Object(c.a)(e=>{const{richMetadata:t}=e,{tutorial:n}=t,{name:a,description:i,from_aggregated_data:r}=n||{};return n&&a?{...e,tutorial:{name:a,description:i,fromAggregatedData:r}}:null});const j=e=>{const{thumbnail:t,url:n,width:a,height:i,duration:r}=e||{};return t&&n&&a&&i&&{thumbnail:t,url:n,width:a,height:i,duration:r}||void 0};var D=Object(c.a)(e=>{const{videos:t}=e.pin,{id:n,video_list:a={}}=t||{},{V_720P:i,V_HLSV4:r,V_HLSV3_MOBILE:o}=a,s=j(r),c=j(o),l=j(i),d=l||s||c;return n&&d?{...e,video:{id:n,hasVideo:d,mp4:l||void 0,hls:s||void 0,hlsv3:c||void 0}}:null});var x=Object(c.a)(e=>{const{video:t}=D(Object(E.a)(e))||{},{embed:n}=y(Object(E.a)(e))||{},a=!(!t||!(e=>{const{hlsv3:t,hls:n}=e,a=t||n;return!!a&&a.width>a.height})(t))||!(!n||!n.src||"pinstory"===n.subtype||"gif"===n.type);return{...e,isWideVideo:a}}),R=({pin:e,boardCount:t,inBetterSaveAfterFBCExp:n})=>{if(e.content_sensitivity&&e.content_sensitivity.is_sensitive_content)return!1;{const e=n?1:2;return void 0!==t&&t>=e}},A=n("Zygf"),M=e=>!(e&&e.pinner&&e.pinner.blocked_by_me||e&&Object(A.a)(e))},"7pfs":function(e,t,n){n.d(t,"a",(function(){return i}));var a=n("q1tI");function i({children:e}){const[t,n]=Object(a.useState)(!1),[i,r]=Object(a.useState)(!1),[o,s]=Object(a.useState)(!1);return e({active:t,focused:i,hovered:o,onBlur:()=>{r(!1),n(!1)},onFocus:()=>r(!0),onMouseDown:()=>n(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),n(!1)},onMouseUp:()=>n(!1)})}},"8vQR":function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),i=n.n(a),r=n("Ye/N"),o=n("7w6Q"),s=n("eOdZ"),c=n("n6mq"),l=n("U4JR");function d(e){const{identifier:t,onHide:n}=e,a=()=>{s.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callCreate().then(()=>{n(),(()=>{const{component:t,element:n}=e;Object(l.a)(101,{component:t,element:n}),o.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return i.a.createElement(c.t,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),a()},accessibilityLabel:r.a._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"9pre":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r}));const a=5,i="V_HLSV3_MOBILE",r=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},AHhP:function(e,t){const n={},a=function(e,t){let n=!1;return function(...a){n||(n=!0,e.apply(this,a),t&&t())}},i=function(e,t){e.__listeners=t},r=function(e,t){return!e.__listeners&&t&&i(e,[]),e.__listeners},o=function(e,t){return!e.__handlers&&t&&(e.__handlers={}),e.__handlers},s=function e(t,n,a){let i,r,o=[];if("string"==typeof t)for(i=t.split(" "),r=0;r<i.length;r+=1)o.push({name:i[r],callback:n,originalCallback:n,context:a});else"object"==typeof t&&t&&Object.keys(t).forEach(i=>{o=o.concat(e(i,t[i],a||n))});return o},c=function(e,t,n,a){const i=s(e,t,n);for(let r=0;r<i.length;r+=1)a(i[r])},l=function(e,t){const n=o(e,!0);void 0===n[t.name]?n[t.name]=[t]:n[t.name].push(t)},d=function(e,t,n){const a=r(e,!0);for(let i=0;i<n.length;i+=1){const e=n[i];if(!e.callback)return;l(t,e),a.push({obj:t,event:e,originalCallback:e.originalCallback})}};n.on=function(e,t,n){return c(e,t,n,e=>{e.callback&&l(this,e)}),this},n.off=function(e,t,n){const a=o(this,!1);if(void 0===a)return this;const i=Object.keys(a);let r=s(e,t,n);0===r.length&&(r=[{name:null,callback:t,context:n}]);for(let o=0;o<r.length;o+=1){const e=r[o];let t;t=e.name?[e.name]:i;for(let n=0;n<t.length;n+=1){const i=t[n],r=a[i];if(void 0!==r){const t=[];for(let n=0;n<r.length;n+=1){const a=r[n];(e.callback&&a.originalCallback!==e.callback&&a.callback!==e.callback||e.context&&a.context!==e.context)&&t.push(a)}a[i]=t}}}return this},n.trigger=function(e,...t){const n=o(this,!1);if(void 0===n)return this;let a,i,r;const s=e.split(" ");for(a=0;a<s.length;a+=1){let e=[];const o=n.all,c=s[a],l=n[c];if(void 0!==l)for(i=0;i<l.length;i+=1)if(r=l[i],"function"==typeof r.callback)e.push({fn:r.callback,context:r.context||this,args:t});else if(r.callback)throw new Error("Callbacks must be functions");if(void 0!==o)for(i=0;i<o.length;i+=1)if(r=o[i],"function"==typeof r.callback)e.push({fn:r.callback,context:r.context||this,args:[c].concat(t)});else if(r.callback)throw new Error("Callbacks must be functions");for(i=0;i<e.length;i+=1)r=e[i],r.fn.apply(r.context,r.args);e=[]}return this},n.once=function(e,t,n){return c(e,t,n,e=>{"function"==typeof e.originalCallback&&(e.callback=a(e.originalCallback,()=>{this.off(e.name,e.callback,e.context)}),l(this,e))}),this},n.listenTo=function(e,t,n){return d(this,e,s(t,n,this)),this},n.listenToOnce=function(e,t,n){const i=s(t,n,this).map(t=>(t.originalCallback&&(t.callback=a(t.originalCallback,()=>{this.stopListening(e,t.name,t.originalCallback,t.context)})),t));return d(this,e,i),this},n.stopListening=function(e,t,n){const a=r(this,!1);let o,c,l;if(!a)return this;const d=[],u=void 0===t?void 0:s(t,n,this);for(c=0;c<a.length;c+=1)if(o=a[c],o.obj!==e&&e)d.push(o);else if(t){let e=!1;for(l=0;l<u.length&&!1===e;l+=1){const t=u[l];o.event.name===t.name&&o.originalCallback===t.callback&&(e=!0)}e?o.obj.off(o.event.name,o.event.callback,o.event.context):d.push(o)}else o.obj.off(o.event.name,o.event.callback,o.event.context);return i(this,d),this},e.exports=n},BEAQ:function(e,t,n){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var a=n("q1tI"),i=n.n(a),r=n("PioT"),o=n("U4JR"),s=n("n6mq");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,SEEKING:3,STALLING:4,FAILED:5}),d=1e3;class u extends a.Component{constructor(...e){super(...e),c(this,"state",{canPlay:!1}),c(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t(e),this.videoPlayerRef=e,this.videoRefSetTime=new Date,this.videoPlayerRef.video&&this.videoRefSetTime)){const e=this.videoPlayerRef.video,t=this.videoRefSetTime;e.addEventListener("error",()=>{this.playbackPerformance.fatalErrorMsg="Video failed loading"}),e.addEventListener("loadeddata",()=>{this.playbackPerformance.startupLoadTimeMs||(this.playbackPerformance.startupLoadTimeMs=new Date-t)}),e.addEventListener("pause",()=>{this.playbackState=l.PAUSED}),e.addEventListener("waiting",()=>{null!=this.startPlayTime&&(this.playbackPerformance.totalPlayDuration+=this.currentVideoTime-this.startPlayTime,this.startPlayTime=null),this.playbackState!==l.STALLING&&(this.playbackPerformance.numStalls+=1,this.stallTimestamp=new Date),this.playbackState=l.STALLING}),e.readyState>=3&&this.setState({canPlay:!0})}}),c(this,"startVideoPlaybackTimings",()=>{const e=()=>{null!=this.stallTimestamp&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.stallTimestamp,this.stallTimestamp=null)};window.clearInterval(this.videoPlaybackIntervalId),this.videoPlaybackIntervalId=window.setInterval(()=>{if(!this.videoPlayerRef||!this.videoPlayerRef.video)return;const t=this.videoPlayerRef.video.currentTime,n=t*d;if(-1===this.currentVideoTime)return void(this.currentVideoTime=t);const a=n-(this.currentVideoTime*d+250);Math.abs(a)>200?(Math.abs(n-this.currentVideoTime*d)<200&&this.playbackState!==l.PAUSED?this.stallTimestamp||(this.playbackPerformance.numStalls+=1,this.stallTimestamp=new Date):this.stallTimestamp&&e(),null!=this.startPlayTime&&(this.playbackPerformance.totalPlayDuration+=this.currentVideoTime-this.startPlayTime,this.startPlayTime=null)):(this.playbackState=l.PLAYING,null==this.startPlayTime&&(this.startPlayTime=this.currentVideoTime),this.stallTimestamp&&e()),this.currentVideoTime=t},250)}),c(this,"currentVideoTime",-1),c(this,"playbackState",l.LOADING),c(this,"stallTimestamp",null),c(this,"startPlayTime",null),c(this,"videoRefSetTime",null),c(this,"playbackPerformance",{fatalErrorMsg:null,numStalls:0,startupLoadTimeMs:null,startupReadyTimeMs:null,totalPlayDuration:0,totalStallDurationMs:0}),c(this,"handleCanPlay",e=>{const{onReady:t,videoStartTime:n}=this.props,{canPlay:a}=this.state;a||(!this.playbackPerformance.startupReadyTimeMs&&this.videoRefSetTime&&(this.playbackPerformance.startupReadyTimeMs=new Date-this.videoRefSetTime),null!=n&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=n),this.startVideoPlaybackTimings(),this.setState({canPlay:!0})),t&&t(e)}),c(this,"handleSeek",e=>{const{onSeek:t}=this.props;this.playbackState=l.SEEKING,t&&t(e)})}componentWillUnmount(){const{contextLogData:e,src:t}=this.props,n=this.videoPlayerRef&&this.videoPlayerRef.video,a=this.videoRefSetTime;if(n&&a){const a="string"==typeof t?t:t[0].src;null!=this.startPlayTime&&(this.playbackPerformance.totalPlayDuration+=this.currentVideoTime-this.startPlayTime,this.startPlayTime=null),null!=this.stallTimestamp&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.stallTimestamp,this.stallTimestamp=null),Object(o.a)(3606,{...e,eventData:{videoPerformanceData:{isCellular:!1,fatalError:this.playbackPerformance.fatalErrorMsg||void 0,nativeVideoDurationMs:n.duration*d,numberOfStalls:this.playbackPerformance.numStalls,overallWatchedDurationMs:this.playbackPerformance.totalPlayDuration*d,rebufferRate:this.playbackPerformance.totalStallDurationMs/(this.playbackPerformance.totalPlayDuration*d),startupLatencyMs:this.playbackPerformance.startupReadyTimeMs||-1,startupPlayerHeight:n.clientHeight,startupPlayerWidth:n.clientWidth,startupTimeMs:this.playbackPerformance.startupLoadTimeMs||-1,videoUrl:a}}})}window.clearInterval(this.videoPlaybackIntervalId)}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:a,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:c,captions:l,controls:d,loop:u,objectFit:h,onDurationChange:p,onEnded:m,onFullscreenChange:f,onLoadedChange:g,onPause:b,onPlay:y,onPlayheadDown:v,onPlayheadUp:_,onTimeChange:E,onVolumeChange:w,playbackRate:C,playing:S,playsInline:T,poster:O,preload:P,src:k,volume:I}=this.props,{canPlay:L}=this.state;return i.a.createElement(s.ab,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:a,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:c,captions:l,controls:d,loop:u,objectFit:h,onDurationChange:p,onEnded:m,onFullscreenChange:f,onLoadedChange:g,onPause:b,onPlay:y,onPlayheadDown:v,onPlayheadUp:_,onReady:this.handleCanPlay,onSeek:this.handleSeek,onTimeChange:E,onVolumeChange:w,playbackRate:C,playing:L&&S,playsInline:T,poster:O,preload:P,ref:this.setVideoPlayerRef,src:k,volume:I})}}var h=n("aFfM");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=e=>{if(Array.isArray(e)){const t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class f extends i.a.PureComponent{constructor(e){super(e),p(this,"componentDidUpdate",(e,t)=>{var n;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&(null===(n=this.videoPlayerRef)||void 0===n?void 0:n.video)&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),p(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),p(this,"handleOnEnded",({event:e})=>{const{loop:t,onLoop:n,onEnded:a}=this.props;a&&(a({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))});const t=m(e.src);this.state={useHlsVideo:!r.a.isSafari()&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:a,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:s,captions:c,contextLogData:l,controls:d,hlsConfig:p,loop:f,objectFit:g,onDurationChange:b,onEnded:y,onFullscreenChange:v,onLoadedChange:_,onPause:E,onPlay:w,onPlayheadDown:C,onPlayheadUp:S,onReady:T,onSeek:O,onTimeChange:P,onVolumeChange:k,playbackRate:I,playing:L,playsInline:j,poster:D,preload:x,src:R,videoStartTime:A,volume:M}=this.props,{useHlsVideo:V}=this.state,F=m(R),N={...p,startPosition:A||-1},U=!y&&f;return V&&F?i.a.createElement(h.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:a,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:s,captions:c,contextLogData:l,controls:d,hlsConfig:N,loop:U,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:v,onLoadedChange:_,onPause:E,onPlay:w,onPlayheadDown:C,onPlayheadUp:S,onReady:T,onSeek:O,onTimeChange:P,onVolumeChange:k,playbackRate:I,playing:L,playsInline:j,poster:D,preload:x,setVideoRef:this.setVideoPlayerRef,src:F,volume:M}):i.a.createElement(u,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:a,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:s,captions:c,contextLogData:l,controls:d,loop:U,objectFit:g,onDurationChange:b,onEnded:this.handleOnEnded,onFullscreenChange:v,onLoadedChange:_,onPause:E,onPlay:w,onPlayheadDown:C,onPlayheadUp:S,onReady:T,onSeek:O,onTimeChange:P,onVolumeChange:k,playbackRate:I,playing:L,playsInline:j,poster:D,preload:x,setVideoRef:this.setVideoPlayerRef,src:F||R,videoStartTime:A,volume:M})}}},"CgR/":function(e,t,n){n.d(t,"a",(function(){return p}));var a=n("q1tI"),i=n.n(a),r=n("qWlA"),o=n("geGc"),s=n("TqAR"),c=n("TiQD"),l=n("oVol"),d=n("U4JR"),u=n("n6mq");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends a.Component{constructor(...e){super(...e),h(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),h(this,"handleClick",Object(r.a)(e=>{(null==e?void 0:e.stopPropagation)&&e.stopPropagation(),this.toggle()})),h(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),h(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:a,userId:r,board:c,sendType:d,fullName:u,profileUrl:h,viewParameter:p,viewType:m,onExternalSend:f,showCaret:g,todayArticle:b}=this.props;let y={description:e,id:a,imageUrl:n,name:"",type:l.a.PIN,url:`/pin/${a}/`},v=l.a.PIN;switch(d){case"user":y={description:e,id:r,imageUrl:n,name:u,type:l.a.PINNER,url:h},v=l.a.USER;break;case"board":y=c&&{description:c.description,id:c.id,imageUrl:c.imageUrl,name:c.name,type:l.a.BOARD,url:c.url},v=l.a.BOARD;break;case"today_article":y=b&&{description:b.subtitle||"",id:b.id,imageUrl:n,name:b.title,type:l.a.TODAY_ARTICLE,url:Object(s.i)(b)},v=l.a.TODAY_ARTICLE}const _={isFlyout:!0,onHide:this.onHide,onExternalSend:f,sendType:v,sharedObject:y,viewParameter:p,viewType:m};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:g,children:i.a.createElement(o.default,_)}})}static makeSendShareButton(e){return t=>i.a.createElement(this,Object.assign({ref:t.shareButtonRef,Subject:e},t))}toggle(){const{onToggleFlyout:e,sendType:t,userId:n}=this.props;"user"===t&&Object(d.a)(101,{component:13675,element:1079,objectId:n,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:a}=this.props,{anchor:r,idealDirection:o,onDismiss:s,showCaret:l,children:d}=this.flyoutProps();return i.a.createElement("div",null,i.a.createElement(u.d,{ref:e=>{e&&(this.flyoutAnchor=e)}},i.a.createElement(e,Object.assign({handleSendShareFlyoutButtonClick:this.handleClick},this.props))),n&&(a?i.a.createElement(u.w,null,i.a.createElement(u.d,{zIndex:t?c.a:void 0,position:t?"absolute":void 0,top:!!t||void 0},i.a.createElement(u.p,{anchor:r,idealDirection:o,onDismiss:s,showCaret:l,size:"xl",positionRelativeToAnchor:!1},d))):i.a.createElement(u.p,{anchor:r,idealDirection:o,onDismiss:s,showCaret:l,size:"xl"},d)))}}h(p,"defaultProps",{idealDirection:"down",onClick:()=>{}})},ENhS:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n("1dBE");const{Provider:i,Consumer:r,useHook:o}=Object(a.c)("SurfaceContext",{surface:"Unknown"})},Ep0g:function(e,t,n){n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p}));const a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],i=["US","GB","IE","NZ","AU","CA","FR","DE","AT","IT","ES","NL","BE","PT","CH","DK","SE","NO","FI"],r=["US","CA"],o=["US","CA"],s=e=>!!e&&r.includes(e.toUpperCase()),c=e=>a.includes(e.toUpperCase()),l=e=>i.includes(e.toUpperCase()),d=e=>e.reduce((e,t)=>(e||0)+(t||0),0),u=(e,t,n)=>{const a={numDays:n};return t.forEach(t=>{if(e[t].length>=2*n){const i=d(e[t].slice(0,n)),r=d(e[t].slice(-n));a[t]={total:r,trend:i?(r-i)/i:0}}}),a},h=(e,t,n)=>{const a={numDays:n},i=e[n]||{},r=e[2*n]||{};return t.forEach(e=>{const t=i[e]||0,n=r[e]?r[e]-t:0;a[e]={total:t,trend:n?(t-n)/n:0}}),a},p=e=>!!e&&o.includes(e.toUpperCase())},FZoo:function(e,t,n){var a=n("MrPd"),i=n("4uTw"),r=n("wJg7"),o=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,c){if(!o(e))return e;for(var l=-1,d=(t=i(t,e)).length,u=d-1,h=e;null!=h&&++l<d;){var p=s(t[l]),m=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(l!=u){var f=h[p];void 0===(m=c?c(f,p,h):void 0)&&(m=o(f)?f:r(t[l+1])?[]:{})}a(h,p,m),h=h[p]}return e}},FfPP:function(e,t,n){var a=n("idmN"),i=n("hgQt");e.exports=function(e,t){return a(e,t,(function(t,n){return i(e,n)}))}},"G35+":function(e,t,n){var a=n("AHhP"),i=n.n(a),r=n("1inl"),o=n("fZ0m"),s=n("Ye/N"),c=n("1Nkp"),l=n("dwea"),d=n("28DW"),u=n("mBfy"),h=n("7zvO");function p(){}let m;Object.assign(p.prototype,i.a),Object.assign(p.prototype,{connect(e,t){t=Object.assign({},{success(){},error(){},complete(){}},t),Object(d.a)(`auth_web.social_connect.${e}.${Object(h.b)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(null,"UTsl")).then(({default:e})=>{e.ensureInit(e=>{e.login(e=>{const n=e.authResponse;let a,i;n&&(a=n.grantedScopes,a=a?a.split(","):[],i=n.userID);const r=a.find(e=>"email"===e),o={id:i};"connected"===e.status&&r?t.success(o):t.error(o),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},u.default)}):"gplus"===e||"google"===e?o.a.get(e=>{Object(c.a)().then(()=>{e.auth2.getAuthInstance().grantOfflineAccess().then(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})}).catch(e=>{t.error(e)})})}):Promise.resolve().then(n.bind(null,"LqyK")).then(({default:n})=>{const a=t.windowOptions||n.getWindowOptions(),i=window.open("/connect/"+e+"/","",a);if(!i)return r.a.showError(s.a._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const o=l.a.setInterval(()=>{i.closed&&(clearInterval(o),this.handleComplete({network:e,error_message:"Window closed."}))},1e3);this.once("connect:"+e,e=>{clearInterval(o),e.error_message?t.error(e):t.success(e),t.complete()})})},complete(e){this.handleComplete(e)},handleComplete(e){const t="connect:"+e.network;if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(p,{instance:()=>(m||(m=new p),m),FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy",DROPBOX:"dropbox"}),window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&p.instance().complete(e.data)}),t.a=p},GsvW:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l}));var a=n("Ye/N");const i=656,r=464,o=60,s=170,c=e=>{const t=new Date(e),n=(new Date).getTime()-t.getTime();return Math.floor(n/1e3)<60?a.a._("now","timestamp for a comment or post that was created within the last minute","timestamp for a comment or post that was created within the last minute"):a.a.getHumanizedTimesince(e,{isAbbreviated:!0})},l=e=>{const t=e.first_name||e.full_name||e.username;return t&&t.length>o?t.substring(0,o).trim().concat("..."):t}},JZM8:function(e,t,n){var a=n("FfPP"),i=n("xs/l")((function(e,t){return null==e?{}:a(e,t)}));e.exports=i},LqyK:function(e,t,n){n.r(t);var a=n("+NLT"),i=n("UTsl"),r=n("JZM8"),o=n.n(r),s=n("eOdZ"),c=n("zwad"),l=n("mBfy");const d={open(e){const t=o()(e,d._validParams),n=d._getDialogType(e),a=d.generateFbRef(),r=e.object_type&&e.object_id&&"feed"===n;let u=c.a.absolutify(e.path);const h=c.a.getQueryStringParams();if(h.ptrf&&(u=c.a.appendQueryString(u,{ptrf:h.ptrf})),r&&(u=c.a.appendQueryString(u,{fb_ref:a})),t.method=n,"feed"===t.method){const n=d.getWindowOptions(e.width||580,e.height||400);let a="http://www.facebook.com/sharer/sharer.php?u="+u;t.picture&&(a+="&picture="+t.picture),t.name&&(a+="&title="+t.name),t.description&&(a+="&description="+t.description),t.caption&&(a+="&caption="+t.caption),window.open(encodeURI(a),"sharer",n)}else"send"===t.method?t.link=u:"share"===t.method&&(t.href=u),i.default.ensureInit(n=>{n.getLoginStatus(()=>{if("send"===t.method){n.ui(t);let a,i=10;const r=setInterval(()=>{a=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!a&&i||(clearInterval(r),a&&d.executeMessengerCallback(a,e.callback)),i-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{r&&t&&!t.error_message&&s.a.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:a}).callCreate({showError:!1}),e.callback&&e.callback(t)})})},l.default)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const a=setInterval(()=>{"0px"!==e.style.width&&n||(clearInterval(a),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return a.a.instance.unauth_id+":"+e},_getDialogType:e=>d._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,a=t||400,i=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+a+",left="+Math.round((i-n)/2)+",top="+(r>a?Math.round((r-a)/2):0)}};t.default=d},NVsV:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("q1tI");const i="__ALL__",r="__NONE__",o={canEnableDebugger:!1,setDebuggerVisible:()=>{},debuggerVisible:!1,setDebuggingEnabled:()=>{},debuggingEnabled:!1,highlightExperiment:e=>{},highlightedExperiment:r,overrideExperiment:(e,t)=>{},overriddenExperiments:{},visibleExperimentCounts:{},setExperimentVisible:(e,t)=>{}},s=n.n(a).a.createContext(o);t.c=s},Nle8:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("ajUs"),i=n("zpPL");function r(e,t){const n=i.a.instance;let r;if(n){const i=n.getState();if(i.pins&&e){const n=i.pins[e],o=i.location;if(null==t?void 0:t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find(e=>"PinResource"!==e);n&&(r=t?e[t]:e.PinResource)}else n&&(r=Object(a.a)(n,o))}}return r}},"O1y+":function(e,t,n){var a=n("pOug");const i=Object(a.a)(e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null);t.a=i},RHD0:function(e,t,n){n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var a=n("RNo4"),i=n("Ep0g"),r=n("0S8y");n("fAMq");const o=(e,t)=>Object.keys(t).filter(n=>{const a=t[String(n)];return(a.pinner||{}).id===e.id&&!a.is_repin}).map(e=>t[e]),s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),c=(e,t)=>!(!e||!e.isAuth)&&Object(i.e)(e.country),l=e=>e.isAuth&&!e.isPartner&&!Object(r.e)({user:e})&&!Object(r.c)({user:e}),d=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(a.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},u=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},SNfw:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a);function r({size:e,iconColor:t,backgroundColor:n,grayscale:a=!1}){const r=t||(a?"#333333":"#8E8E8E"),o=n||"#EFEFEF";return i.a.createElement("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("circle",{id:"Oval",fill:o,cx:"18",cy:"18",r:"18"}),i.a.createElement("g",{transform:"translate(9.000000, 12.000000)",fill:r,fillRule:"nonzero"},i.a.createElement("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"}))))}},VpfY:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"g",(function(){return m}));var a=n("RHD0"),i=n("7jH2"),r=n("Y8Sn");function o(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function s(e){var t,n;return!Object(r.i)(e.videos)&&!Object(r.h)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function c(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function l(e){var t,n;return!!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n?void 0:n.is_realtime)}function d(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function u(e){const{native_creator:t,pinner:n,domain:a}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===a)&&!e.is_promoted||t}function h(e,t){const{is_native:n,native_pin_stats:a}=e,r=a||{},o=Object(i.p)({pin:e}),{video:l}=Object(i.x)(o)||{};return u(e)||d(e)||n&&l&&e&&e.link||Object.keys(r).length>0&&!s(e)&&!c(e)||e.promoter&&e.is_promoted&&!t}function p(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const m=({viewer:e,pin:t})=>Object(a.b)(e)&&t.is_quick_promotable_by_pinner},WM6B:function(e,t,n){var a=n("q1tI");class i extends a.Component{constructor(e){var t,n,i;super(e),i={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.ref=a.createRef()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,a=this.ref&&this.ref.current;if(!a)return;const i=void 0===a.textContent?"innerText":"textContent",r=a[i];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):n.e("ShaveLibrary").then(n.bind(null,"eh6K")).then(({default:n})=>{n(a,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,r={maxWidth:e,maxHeight:t},o=n?{display:"inline",...r}:{...r};return i?a.createElement("div",{ref:this.ref,style:{...o,overflow:"hidden"}},this.props.children):a.createElement("div",{ref:this.ref,style:o},this.props.children)}}t.a=i},"XCz/":function(e,t,n){n.d(t,"a",(function(){return a.a}));var a=n("lUXN");n("q1tI"),n("0rqB"),n("pLLR")},ZdHo:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u}));var a=n("eOdZ");function i(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function r(e){return{type:"CONVERSATION_OPEN",payload:{id:e}}}function o(e){return{type:"CONVERSATION_CLOSE",payload:{id:e}}}function s(e){return{type:"CONVERSATION_CREATE",payload:e}}function c(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}const l=(()=>{let e=0;return()=>e++})();function d(e,t,n){let i;const r=new Promise((o,c)=>{i=(i,r)=>{const{text:d,pinId:u,boardId:h,userId:p,didItId:m}=t,f=r();function g(){const t=a.a.create("ConversationMessagesResource",{conversation_id:e,text:d,pin:u,board:h,user:p,user_did_it_data:m,source:n}),r=""+l();i(function(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}(e,{text:d,sender:f.viewer,created_at:(new Date).toString(),created_ms:Date.now(),id:r,board:null,event_type:null,pin:u?f.pins[u]:null,type:"message",user_did_it_data:null,user:null})),t.callCreate().then(t=>{var n,a,s;i((n=e,a=r,s=t.resource_response.data.id,{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:n,messageId:a,newMessageId:s}})),o()}).catch(c)}f.conversations.data[e]?g():a.a.create("ConversationResource",{conversation_id:e}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data;i(s(t)),g()})},i.getPromise=()=>r});return i}const u=(e,t,n)=>i=>a.a.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{const t=e&&e.resource_response.data;i(r(t.id))}).catch(e=>{const t=e.message_detail||e.message||"";n(t)})},ZtJp:function(e,t,n){n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a);function r({size:e,iconColor:t,backgroundColor:n,grayscale:a=!1}){const r=t||(a?"#333333":"#8E8E8E"),o=n||"#EFEFEF";return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1"},i.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("circle",{fill:o,cx:"18",cy:"18",r:"18"}),i.a.createElement("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:r,fillRule:"nonzero"},i.a.createElement("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"}))))}},Zxas:function(e,t,n){n.d(t,"a",(function(){return a}));function a(e,t=80,n="…"){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t])a=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);a=e.substring(0,n)}return a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),a+n}},Zygf:function(e,t,n){function a(e){return Boolean(e.promoted_is_removable)}n.d(t,"a",(function(){return a}))},aFfM:function(e,t,n){n.d(t,"a",(function(){return h}));var a=n("q1tI"),i=n.n(a),r=n("ulZh"),o=n.n(r),s=n("U4JR"),c=n("n6mq");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=1e3;function u(){return(new Date).getTime()}class h extends i.a.PureComponent{constructor(...e){super(...e),l(this,"state",{canPlayVideo:!1,isManifestParsed:!1}),l(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("canplay",()=>{this.setState({canPlayVideo:!0})}),e.readyState>=3&&this.setState({canPlayVideo:!0})}}),l(this,"currentVideoTime",0),l(this,"hls",null),l(this,"playbackPerformance",{fatalErrorMsg:"",firstLevelFetchTime:0,firstFragmentParsedTime:0,hasFatalError:!1,levelWatchDurationsMs:[],numStalls:0,rebufferingDurationMs:0,videoCreatedTime:0}),l(this,"initializeHls",()=>{this.destroyHls();const{src:e,hlsConfig:t}=this.props,n=new o.a(t);n.loadSource(e),this.videoPlayerRef&&n.attachMedia(this.videoPlayerRef.video),n.on(o.a.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0}),this.startVideoWatchTimings()}),n.on(o.a.Events.FRAG_PARSED,(e,t)=>{this.playbackPerformance.firstFragmentParsedTime||(this.playbackPerformance.firstFragmentParsedTime=u())}),n.on(o.a.Events.LEVEL_LOADING,(e,t)=>{this.playbackPerformance.firstLevelFetchTime||(this.playbackPerformance.firstLevelFetchTime=u())}),n.on(o.a.Events.ERROR,(e,t)=>{t.fatal&&(this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.fatalErrorMsg=t.details),t.details===o.a.ErrorDetails.BUFFER_STALLED_ERROR&&(this.playbackPerformance.numStalls+=1,t.buffer&&(this.playbackPerformance.rebufferingDurationMs+=t.buffer*d))}),this.hls=n}),l(this,"destroyHls",()=>{const{hls:e}=this;e&&e.destroy(),window.clearInterval(this.videoTimeIntervalId)}),l(this,"startVideoWatchTimings",()=>{window.clearInterval(this.videoTimeIntervalId),this.videoTimeIntervalId=window.setInterval(()=>{if(!this.hls||this.hls.currentLevel<=0||!this.videoPlayerRef||!this.videoPlayerRef.video)return;const e=this.videoPlayerRef.video.currentTime*d,{levelWatchDurationsMs:t}=this.playbackPerformance;if(t.length){if(this.hls.currentLevel!==t[t.length-1].level){const n=t.length-1;t[n].duration+=this.currentVideoTime-t[n].lastStartSegmentTime,t.push({level:this.hls.currentLevel,lastStartSegmentTime:e,duration:0})}else if(e<this.currentVideoTime||e-this.currentVideoTime>300){const n=t.length-1;t[n].duration+=this.currentVideoTime-t[n].lastStartSegmentTime,t[n].lastStartSegmentTime=e}}else t.push({level:this.hls.currentLevel,lastStartSegmentTime:e,duration:0});this.currentVideoTime=e},250)})}componentDidMount(){this.playbackPerformance.videoCreatedTime=u(),this.initializeHls()}componentDidUpdate(e){const{src:t}=this.props;var n,a;(typeof(n=e.src)!=typeof(a=t)||(Array.isArray(a)?n.length!==a.length||a.some((e,t)=>!Array.isArray(n)||e.type!==n[t].type||e.src!==n[t].src):a!==n))&&this.initializeHls()}componentWillUnmount(){const{contextLogData:e,src:t}=this.props,{firstLevelFetchTime:n,firstFragmentParsedTime:a,hasFatalError:i,levelWatchDurationsMs:r,numStalls:o,rebufferingDurationMs:c,videoCreatedTime:l}=this.playbackPerformance,u=this.videoPlayerRef&&this.videoPlayerRef.video;if(this.hls&&u&&r.length>0){const h="string"==typeof t?t:t[0].src,p=this.hls.levels,m=p[r[0].level]||{},f=u.currentTime*d;r[r.length-1].duration+=f-r[r.length-1].lastStartSegmentTime;const g=r.reduce((e,t)=>e+t.level*(p[t.level]||{}).bitrate*(t.duration||0)/d,0),b=r.reduce((e,t)=>e+(t.duration||0),0);Object(s.a)(3606,{...e,eventData:{videoPerformanceData:{startupTimeMs:a-n,startupLatencyMs:a-l,nativeVideoDurationMs:u.duration*d,startupVariantKbps:m.bitrate/1e3,startupPlayerWidth:u.clientWidth,startupPlayerHeight:u.clientHeight,startupVariantWatchedDurationMs:r[0].duration,startupVariantWidth:m.width,isCellular:!1,fatalError:i,averageVideoKbps:g/(b/d),overallWatchedDurationMs:b,numberOfStalls:o,rebufferRate:c/b,videoUrl:h}}})}this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:a,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:s,captions:l,controls:d,loop:u,onDurationChange:h,onEnded:p,onFullscreenChange:m,onLoadedChange:f,onPause:g,onPlay:b,onPlayheadDown:y,onPlayheadUp:v,onReady:_,onSeek:E,onTimeChange:w,onVolumeChange:C,playbackRate:S,playing:T,playsInline:O,poster:P,preload:k,src:I,volume:L}=this.props,{canPlayVideo:j,isManifestParsed:D}=this.state;return i.a.createElement(c.ab,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:a,accessibilityPlayLabel:r,accessibilityUnmuteLabel:o,aspectRatio:s,captions:l,controls:d,loop:u,onDurationChange:h,onEnded:p,onFullscreenChange:m,onLoadedChange:f,onPause:g,onPlay:b,onPlayheadDown:y,onPlayheadUp:v,onReady:_,onSeek:E,onTimeChange:w,onVolumeChange:C,playbackRate:S,playing:D&&j&&T,playsInline:O,poster:P,preload:k,ref:this.setVideoPlayerRef,src:I,volume:L})}}},fhk9:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));const a={type:"OPEN_CONVERSATIONS_DROPDOWN"},i={type:"CLOSE_CONVERSATIONS_DROPDOWN"},r=e=>({updateBadgeCount:t=>{e({type:"UPDATE_BADGE_COUNT",payload:t})}}),o=e=>({openConversationsDropdown:()=>e(a),closeConversationsDropdown:()=>e(i)})},geGc:function(e,t,n){n.r(t),n.d(t,"default",(function(){return ye}));var a=n("q1tI"),i=n.n(a),r=n("/MKj"),o=n("Ye/N"),s=n("Cufx"),c=n("oVol"),l=n("n6mq");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{constructor(...e){super(...e),d(this,"state",{textValue:this.props.initialTextValue||""}),d(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),d(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,a=this.props.recipient||{},r="conversation_share_suggestion"===a.type,c=r?(a.users||[]).filter(e=>e.id!==n):[];return i.a.createElement(l.d,{paddingX:4,width:360},i.a.createElement(l.d,{alignItems:"center",display:"flex",paddingY:4},i.a.createElement(l.d,{height:48,paddingX:1,width:56},r?i.a.createElement(l.q,{collaborators:c.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):i.a.createElement(s.a,{name:a.full_name||a.email||" ",src:a.image_large_url})),i.a.createElement(l.d,{direction:"column",flex:"grow",marginStart:1},i.a.createElement(l.U,{weight:"bold"},r?c.map(e=>e.first_name||e.full_name).join(", "):a.full_name||a.email),i.a.createElement(l.U,{color:"gray",size:"sm"},r||a.username?a.username:o.a._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible"))),e?i.a.createElement(l.t,{accessibilityLabel:o.a._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null),i.a.createElement(l.d,null,i.a.createElement(l.d,null,i.a.createElement(l.V,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})),i.a.createElement(l.d,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4},i.a.createElement(l.e,{color:"red",inline:!0,onClick:this.handleSendMessage,size:"lg",text:o.a._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"}))))}}var h=Object(r.connect)((function({viewer:e}){return{viewerId:e.isAuth?e.id:""}}),()=>({}))(u),p=n("xdpg");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{constructor(...e){super(...e),m(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),m(this,"handleSendEmail",(e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}}),m(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),m(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return i.a.createElement(l.d,{display:"flex",direction:"column",column:12,paddingX:4,width:360},i.a.createElement(l.d,{display:"flex",alignItems:"center",paddingY:4},i.a.createElement(l.d,{flex:"grow"},i.a.createElement(l.U,{weight:"bold"},o.a._("Send to","shareSheet.SendToEmail.label","Send to label"))),e?i.a.createElement(l.t,{accessibilityLabel:o.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null),i.a.createElement(l.d,{display:"flex",direction:"column"},i.a.createElement(l.d,{paddingY:1,marginBottom:4},i.a.createElement(l.V,{id:"email",onChange:this.handleEmailValueChange,placeholder:o.a._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})),i.a.createElement(l.V,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),i.a.createElement(l.d,{paddingY:4,display:"flex",justifyContent:"center"},i.a.createElement(l.e,{inline:!0,size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:o.a._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(p.g)(this.state.emailValue)}))))}}var g=n("vvax");function b({email:e,isValid:t,onClick:n,showSendEmailText:a}){const r=t?o.a._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):o.a._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),c=a?Object(g.b)(o.a._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(g.b)(o.a._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return i.a.createElement(l.d,{marginBottom:4},i.a.createElement(l.T,{onTap:()=>{t&&n()}},i.a.createElement(l.d,{display:"flex"},i.a.createElement(l.d,{height:48,width:48},i.a.createElement(s.a,{name:e})),i.a.createElement(l.d,{paddingX:3,display:"flex",justifyContent:"center",direction:"column"},i.a.createElement(l.U,{weight:"bold",size:"lg"},c),i.a.createElement(l.U,{size:"sm",color:"gray"},r)))))}var y=n("iS6d"),v=n("w1Xl"),_=n("8vQR"),E=n("4cpq");function w(e){const{shouldShowViewChat:t,isSent:n,onClickSend:a,onViewConversation:r}=e;return i.a.createElement(l.d,{display:"flex"},t?i.a.createElement(l.T,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),r()}},i.a.createElement(l.d,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex"},i.a.createElement(l.U,{color:"darkGray",size:"md",truncate:!0,weight:"bold"},o.a._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")),i.a.createElement(l.d,{marginStart:1},i.a.createElement(l.s,{accessibilityLabel:o.a._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})))):i.a.createElement(E.a,{id:n?"sharesheet-viewchat-link":"sharesheet-send-button"},i.a.createElement(l.e,{color:n?"gray":"red",disabled:n,inline:!0,onClick:a,size:"lg",text:n?o.a._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):o.a._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})))}var C=n("U4JR"),S=n("0SCs");function T(e){var t,n,o;const{item:c,textFieldValue:d,onSendMessage:u,onShowSendDraft:h,onViewConversation:p,sentHistory:m}=e,[f,g]=Object(a.useState)(!1),[b,E]=Object(a.useState)(!1),[T,O]=Object(a.useState)(!1),P=c.id||"string"==typeof c.email&&c.email||"",k=P in m,I=""!==d,L=null!==(t=m[P])&&void 0!==t?t:"",j=Object(r.useSelector)(e=>e.viewer.id||""),D="conversation_share_suggestion"===c.type,x=D?(c.users||[]).filter(e=>e.id!==j):[],R=c.debug_reason&&c.debug_reason.readable_reason;let A="";"string"!=typeof c.full_name||c.full_name.match(/^\s*$/)?"string"!=typeof c.email||c.email.match(/^\s*$/)||(A=c.email):A=c.full_name;const{anyEnabled:M,customActivate:V}=Object(S.b)("web_hide_contact_suggestions");return f?i.a.createElement(v.a,{identifier:null!==(n=c.id)&&void 0!==n?n:c.email,onUndoHide:()=>g(!1),component:13029,element:11918,isGroupChat:x.length>1}):i.a.createElement(l.d,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%"},i.a.createElement(l.T,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),h(c)}},i.a.createElement(l.h,{onMouseEnter:()=>{V(),E(!I)},onMouseLeave:()=>E(!1)},i.a.createElement(l.d,{alignItems:"center",display:"flex"},i.a.createElement(l.d,{height:48,width:48},D?i.a.createElement(l.q,{collaborators:x.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):i.a.createElement(s.a,{accessibilityLabel:"",name:A,src:c.image_medium_url})),i.a.createElement(l.d,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"100%"},i.a.createElement(l.d,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow"},i.a.createElement(l.d,{marginBottom:1},i.a.createElement(l.U,{color:"darkGray",truncate:!0,weight:"bold"},D?x.map(e=>e.first_name||e.full_name).join(", "):A)),I&&R?i.a.createElement(l.U,{color:"gray",size:"sm"},R):"string"==typeof c.username&&i.a.createElement(l.U,{color:"gray",size:"sm"},c.username)),i.a.createElement(l.d,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center"},M&&b&&i.a.createElement(l.d,{display:"flex",marginEnd:2},i.a.createElement(_.a,{identifier:null!==(o=c.id)&&void 0!==o?o:c.email,onHide:()=>g(!0),component:13029,element:11917})),i.a.createElement(w,{shouldShowViewChat:k,isSent:T,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,a=d?1044:1039;Object(C.a)(101,{component:13029,element:a,entered_query:d,result_index:n+1,rs:null===(t=c.debug_reason)||void 0===t?void 0:t.reason})})(),O(!0),u(c)},onViewConversation:()=>p(L)})))))),i.a.createElement(y.a.Consumer,null,e=>{var t;return e?i.a.createElement(l.d,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0},i.a.createElement(l.r,{color:"blue",size:"sm"},null===(t=c.debug_reason)||void 0===t?void 0:t.reason)):null}))}var O=n("6vq5"),P=n("ANjH"),k=n("ZdHo"),I=n("fhk9");var L=Object(P.compose)(Object(O.a)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"}},{allowStale:!1}),Object(O.a)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||"default"})},{allowStale:!1}))((function(e){const{onChange:t,onSendMessage:n,onShowSendDraft:s,onShowImportContacts:c,sentHistory:d,value:u,shareSuggestionsResource:{isLoaded:h},shareSuggestionsTypeaheadResource:{isLoaded:m},paddingX:f}=e,g=Object(r.useSelector)(e=>e.social.shareSuggestions[u]||[]);Object(a.useEffect)(()=>{if(!u&&h){const e=g.length>0?7511:7512;Object(C.a)(e,{component:56,view:70,viewParameter:256})}},[h]);const y=Object(r.useDispatch)(),v=t=>{const{isFlyout:n,onHide:a}=e;!n&&a&&a(),(e=>{y(Object(k.e)(e))})(t),y(I.a)},_=g.map((e,t)=>{const a=`${t}-${u?"search":"suggestion"}`,r={item:e,idx:t,onSendMessage:n,onShowSendDraft:s,onViewConversation:v,sentHistory:d,textFieldValue:u};return i.a.createElement(T,Object.assign({key:a},r))}),E=0===g.length&&(""===u&&!h||""!==u&&!m);return i.a.createElement(l.d,null,i.a.createElement(l.d,{display:"flex",paddingX:f,position:"relative"},i.a.createElement(l.d,{"data-test-id":"sharesheet-search-user",width:"100%"},i.a.createElement(l.J,{accessibilityLabel:o.a._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:t,placeholder:o.a._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u}))),i.a.createElement(l.d,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:185,marginBottom:4,marginTop:2},i.a.createElement(l.d,{paddingX:f},i.a.createElement(l.d,{paddingY:E?2:0},i.a.createElement(l.N,{accessibilityLabel:o.a._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:E})),i.a.createElement(l.d,null,_,u&&i.a.createElement(l.d,null,i.a.createElement(l.h,null,i.a.createElement(b,{email:u,isSend:!0,isValid:Object(p.g)(u),onClick:()=>s({email:u,full_name:u}),showSendEmailText:!1})),!E&&i.a.createElement(l.d,{width:"100%"},i.a.createElement(l.h,null,i.a.createElement(l.T,{onTap:c},i.a.createElement(l.d,{alignItems:"center",direction:"row",display:"flex"},i.a.createElement(l.d,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48},i.a.createElement(l.s,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})),i.a.createElement(l.d,{paddingX:3},i.a.createElement(l.U,{weight:"bold"},o.a._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list"))))))))))))})),j=n("ZtJp"),D=n("WM6B");var x=({text:e})=>i.a.createElement(l.U,{align:"center",size:"sm"},i.a.createElement(D.a,{maxWidthPx:128,maxHeightPx:50},e));var R=({iconSize:e,marginEnd:t,children:n})=>i.a.createElement(l.d,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24},n);const A=()=>n.e("clipboardLibrary").then(n.t.bind(null,"sxGJ",7));var M=({onClick:e,iconColor:t,iconSize:n,backgroundColor:r,invitePath:s})=>{const[c,d]=Object(a.useState)(!1),u=Object(a.useRef)(null);return Object(a.useEffect)(()=>{A().then(({default:e})=>{e.isSupported()&&(e=>{if(!u.current||!A)return;new e(u.current,{text:()=>s}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[s]),i.a.createElement(R,{iconSize:n,marginEnd:!1},i.a.createElement(l.d,{ref:u},i.a.createElement(l.T,{onTap:()=>{e(),d(!0),setTimeout(()=>{d(!1)},3e3)}},i.a.createElement(l.d,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center"},i.a.createElement(j.a,{backgroundColor:r,iconColor:t,size:n}))),i.a.createElement(x,{text:c?o.a._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):o.a._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})))},V=n("SNfw"),F=n("UTsl");function N({size:e=48,iconColor:t,backgroundColor:n,grayscale:a=!1}){const r=t||(a?"#333333":"#8E8E8E"),o=n||"#EFEFEF";return i.a.createElement("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd"},i.a.createElement("circle",{fill:o,cx:"24",cy:"24",r:"24",stroke:"none"}),i.a.createElement("g",{transform:"translate(14.000000, 14.000000)",fill:r},i.a.createElement("circle",{cx:"10",cy:"10",r:"6"}),i.a.createElement("circle",{cx:"17",cy:"3",r:"2"}),i.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),i.a.createElement("circle",{cx:"19",cy:"10",r:"1"}),i.a.createElement("circle",{cx:"10",cy:"19",r:"1"}),i.a.createElement("circle",{cx:"1",cy:"10",r:"1"}),i.a.createElement("circle",{cx:"10",cy:"1",r:"1"}),i.a.createElement("circle",{cx:"3",cy:"17",r:"2"}),i.a.createElement("circle",{cx:"3",cy:"3",r:"2"}))))}var U=n("v/Q4");function B({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:a,backgroundColor:r}){const s=Object(U.a)();return t&&[c.a.BOARD,c.a.PINNER,c.a.USER].includes(e.type)&&s.isAuth&&(e.id===s.id||s.isEmployee)?i.a.createElement(R,{key:"pincode",iconSize:a,marginEnd:!0},i.a.createElement(l.T,{fullWidth:!1,onTap:t},i.a.createElement(N,{backgroundColor:r,iconColor:n,size:a})),i.a.createElement(x,{text:o.a._("Pincode","Share via pincode","Share via pincode")})):null}var H=n("zwad"),W=n("mBfy"),z=n("udob"),G=n("joD6");const q="#EFEFEF",Y="#333333";function Z({size:e=48,grayscale:t=!1}){const n=t?Y:"#FFFFFF",a=t?q:"#1877f2";return i.a.createElement("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e},i.a.createElement("title",null,"f_logo_RGB-Blue_1024"),i.a.createElement("g",{id:"surface1"},i.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),i.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})))}function K({size:e=48,grayscale:t=!1}){const n=t?Y:"#FFFFFF",a=t?q:"#0DC2FF";return i.a.createElement("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{id:"surface1"},i.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),i.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})))}function $({size:e=48,grayscale:t=!1}){const n=t?Y:"#FFFFFF",a=t?q:"#25d366";return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1"},i.a.createElement("g",{id:"surface1"},i.a.createElement("path",{style:{fill:a,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),i.a.createElement("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})))}var Q=n("nGHF");function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J=48,ee="#111111",te="#EFEFEF",ne={backgroundColor:"#ffffff",border:"none",padding:0};class ae extends a.Component{constructor(...e){super(...e),X(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),X(this,"mounted",!1),X(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(z.a.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}),X(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||z.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),X(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case c.a.BOARD:return o.a._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case c.a.PIN:return o.a._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case c.a.PINNER:return o.a._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);z.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+H.a.absolutify(this.props.sharedObject.url)})})}checkWritePermissions(){return!!W.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e&&(this.openEmailDialog(),t=258),this.props.onExternalSend&&this.props.onExternalSend(),Object(C.a)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}getFacebookSDK(e){F.default.ensureInit(t=>e(t))}openFacebookDialog(){this.getFacebookSDK(e=>{F.default.logIn(e,()=>{z.a.shareFacebookInvite(this.getShareOptions(5))})})}openFbMessengerDialog(){this.getFacebookSDK(e=>{F.default.logIn(e,()=>{z.a.shareFbMessengerInvite(this.getShareOptions(6))})})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(z.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){z.a.shareTwitterInvite(this.getShareOptions(9))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t}=this.props;return i.a.createElement(a.Fragment,null,i.a.createElement(l.d,{display:"flex",justifyContent:"around"},i.a.createElement(R,{iconSize:J,marginEnd:!0},i.a.createElement("button",{"aria-label":o.a._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:ne,tabIndex:"-1"},i.a.createElement("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank"},i.a.createElement($,{size:J}))),i.a.createElement(x,{text:o.a._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})),i.a.createElement(R,{iconSize:J,marginEnd:!0},i.a.createElement("button",{"aria-label":o.a._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:ne},i.a.createElement(Z,{size:J})),i.a.createElement(x,{text:o.a._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})),i.a.createElement(R,{iconSize:J,marginEnd:!0},i.a.createElement("button",{"aria-label":o.a._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:ne},i.a.createElement(K,{size:J})),i.a.createElement(x,{text:o.a._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})),i.a.createElement(R,{iconSize:J,marginEnd:!1},this.renderEmail())),i.a.createElement(l.d,{display:"flex",paddingY:4},i.a.createElement(B,{backgroundColor:te,iconColor:ee,iconSize:J,onCreatePincodeClick:t,sharedObject:e}),i.a.createElement(M,{key:"copylink",backgroundColor:te,iconColor:ee,iconSize:J,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink")})))}renderEmail(){return i.a.createElement(R,{key:"email",iconSize:J,marginEnd:!1},i.a.createElement(l.d,{display:"inlineBlock"},i.a.createElement(l.T,{fullWidth:!1,onTap:()=>this.handleSocialShareClick("email")},i.a.createElement(V.a,{backgroundColor:te,iconColor:ee,size:J}))),i.a.createElement(x,{text:o.a._("Email","Share via email","Share via email")}))}render(){const{sharedObject:e,paddingX:t}=this.props;return i.a.createElement(l.d,{paddingX:t},i.a.createElement(l.d,{alignContent:"center",alignItems:"center",display:"flex",height:64,justifyContent:"center"},i.a.createElement(l.U,{size:"lg",weight:"bold"},this.getSendDisplayText(e.type))),i.a.createElement(l.d,{paddingX:2},this.renderShareOptions()))}}var ie=Object(P.compose)(G.a,Q.c)(ae),re=n("7w6Q"),oe=n("eOdZ"),se=n("CvCA");function ce(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var le=n("ENhS");const de=(e,t)=>{const n={};return e.forEach(e=>{n[e]=t}),n};var ue=Object(r.connect)(null,e=>({createConversation:t=>e(Object(k.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,n]=Object(a.useState)(!1),[r,s]=Object(a.useState)(null),[c,d]=Object(a.useState)({}),[u,p]=Object(a.useState)(""),[m]=Object(a.useState)((e=>"today_article"===e?o.a._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType)),{showOneToast:g}=Object(Q.b)(),{surface:b}=Object(le.b)(),y=(t,a)=>{n(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:a}=e,i=a.id;re.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(C.a)(180,{element:276,objectId:i,conversation_id:t,pin_id:n})})(t,a)},v=e=>{re.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&g(({onHide:e})=>i.a.createElement(se.a,{color:"red",duration:5e3,onHide:e,text:t}))},_=async(t,n,a)=>{const{createConversation:i,sharedObject:r,sendType:o}=e,s=r.id,l={emails:n,user_ids:t,text:a,source:ce(b)};l[o]=s;const u=oe.a.create("ConversationsResource",l);try{const e=await u.callCreate(),a=e&&e.resource_response.data;i(a),y(a.id,"pin"===o?s:null),t.length>0?d({...c,...de(t,a.id)}):d({...c,...de(n,a.id)})}catch(h){v(h)}},E=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,a)=>{const{sendMessage:i,sharedObject:r,sendType:o}=e;let s;switch(o){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const l=s?Object(k.g)(t,{text:n,[s]:r.id,source:ce(b)}):void 0;l&&(i(l),l.getPromise().then(()=>{y(t,"pin"===o?r.id:null),d({...c,[t]:t})}).catch(e=>{v(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?_([],[t.email],n):_([t.id],[],n),Object(C.a)(101,{component:56,element:276})},w=()=>{n(!1),s(null)},{onCreatePincodeClick:S,onShowImport:T,sendType:O,sharedObject:P,isFlyout:I,onHide:j,onExternalSend:D}=e,x="email"===r?i.a.createElement(f,{initialTextValue:m,isFlyout:I,objectId:P.id,objectType:O,onCancelDraft:w,onHide:j,onSendMessage:E}):i.a.createElement(h,{initialTextValue:m,isFlyout:I,objectId:P.id,objectType:O,onCancelDraft:w,onHide:j,onSendMessage:E,recipient:"object"==typeof r?r:void 0});return t?x:i.a.createElement(l.d,{color:"white"},i.a.createElement(ie,{onCreatePincodeClick:S,onEmailIconClick:()=>{n(!0),s("email")},onExternalSend:D,onHide:j,paddingX:4,sharedObject:P}),i.a.createElement(l.d,null,i.a.createElement(L,{isFlyout:I,onChange:({value:e})=>{p(e),Object(C.a)(4113,{component:13029,element:1043})},onHide:j,onSendMessage:E,onShowImportContacts:T,onShowSendDraft:e=>{n(!0),s(e)},paddingX:4,sentHistory:c,value:u})))})),he=n("TSYQ"),pe=n.n(he),me=n("+zF7");const fe=["facebook","google"];function ge(e){const t=pe()("sendShare",e.network),n=(a=e.network,r=e.email,"facebook"===a?o.a._("Friends who are on Pinterest"):"google"===a&&r&&-1!==r.indexOf("@gmail")?r:null);var a,r;return i.a.createElement("a",{onClick:e.onClick,role:"button"},i.a.createElement("div",{className:t},i.a.createElement("em",{className:"icon"}),i.a.createElement("div",{className:"networkInfo"},i.a.createElement("h4",{className:"title"},function(e){return"facebook"===e?o.a._("Facebook"):"twitter"===e?o.a._("Twitter"):"google"===e?o.a._("Google"):o.a._("Other")}(e.network)),n?i.a.createElement("div",{className:"subtitle"},n):null)))}function be({onBack:e}){const t=Object(U.a)(),n=t.isAuth?t.email:null,a=fe.filter(e=>!t.isAuth||!1===t.socialNetwork[e].connected);return i.a.createElement("div",{className:"SocialConnectPanel sendShare"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"backNav"},i.a.createElement("a",{onClick:e,role:"button"},i.a.createElement("span",{className:"icon"}),i.a.createElement("span",{className:"label"},o.a._("Back")))),i.a.createElement("div",{className:"prompt"},o.a._("Upload contacts from..."))),i.a.createElement("ul",{className:"socialConnectOptions"},a.map(e=>i.a.createElement("li",{style:{borderLeft:"none"},key:e},i.a.createElement(ge,{email:n,network:e,onClick:()=>function(e){me.a.instance().handleConnect(e,!0,{})}(e)})))))}function ye({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:r,onHide:o,sendType:s,sharedObject:c,viewType:d,viewParameter:u}){const[h,p]=Object(a.useState)(!1),[m,f]=Object(a.useState)(!1);Object(a.useEffect)(()=>(Object(C.a)(7120,{objectId:c.id,view:d,viewParameter:u}),()=>{Object(C.a)(7121,{objectId:c.id,view:d,viewParameter:u});const e=m?7493:7492;Object(C.a)(e,{view:d,viewParameter:u})}),[]);const g=()=>{p(!0)},b=()=>{p(!1)},y=()=>{f(!0)};return h?(()=>{const e=t?"Module SendObjectBase sendShare":"";return i.a.createElement("div",{className:e},i.a.createElement(be,{onBack:b}))})():i.a.createElement(l.d,{overflow:"hidden"},i.a.createElement(ue,{isFlyout:t,onCreatePincodeClick:n,onHide:o,onShowImport:g,onMessageSent:y,onExternalSend:r,sendType:s,sharedObject:c}))}},i9se:function(e,t,n){n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n("Y+p1"),i=n.n(a),r=n("QkVN"),o=n.n(r),s=n("KFEb");const c={boardactivity:"BoardActivityResource",boardactivitycomment:"BoardActivityCommentResource"},l={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment"},d={[l.BOARD]:s.a.BOARD_ACTIVITYITEMS,[l.BOARD_ACTIVITY]:s.a.BOARD_ACTIVITYCOMMENTS,[l.BOARD_ACTIVITY_COMMENT]:s.a.BOARD_ACTIVITYCOMMENTS},u={},h=(e,t)=>{const n={...o()({},e,t),...t.content?{content:t.content}:{},...t.reaction_counts?{reaction_counts:t.reaction_counts}:{}};return i()(e,n)?e:n},p=e=>e.reduce((e,t)=>{if(11===t.activity_type&&t.comment&&t.ref_board_activity){const n=t.comment,a=t.ref_board_activity;n&&a&&(e.push({...n,user:t.user}),e.push(a),e.push({...t,comment:{id:n.id},ref_board_activity:{id:a.id}}))}else e.push(t);return e},[]);t.d=(e=u,t)=>{if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){const{payload:{data:n,name:a,options:i}}=t;if("BoardActivityCommentFeedResource"===a){const t=(n||[]).reduce((t,n)=>(t[n.id]=h(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityFeedResource"===a){const t=p(n||[]).reduce((t,n)=>(t[n.id]=h(e[n.id],n),t),{});return{...e,...t}}if("BoardActivityResource"===a&&n){const t=n;return{...e,[t.id]:h(e[t.id],t)}}if("BoardActivityPinsGridCommentsResource"===a){const t=Object.values(n||{}).reduce((e,t)=>e.concat(t||[]),[]).reduce((t,n)=>Object.prototype.hasOwnProperty.call(n,"id")?{...t,[n.id]:h(e[n.id],n)}:t,{});return{...e,...t}}if("BoardActivityCommentResource"===a&&n){const t=n,a={[t.id]:h(e[t.id],t)};if(t.root_board_activity){const n=t.root_board_activity.id;a[n]=h(e[n],t.root_board_activity)}return{...e,...a}}if("NewsHubDetailsResource"===a&&n&&n.length>0&&n[0].content_items){const t={};return n.forEach(e=>{e.content_items.forEach(e=>{const n=e.content_object&&e.content_object.type;if(n===l.BOARD_ACTIVITY_COMMENT||n===l.BOARD_ACTIVITY){const n=e.content_object;p([n]).forEach(e=>t[e.id]=e)}})}),{...e,...t}}if(["PinResource","PinPageResource"].includes(a)&&n&&n.board_activity){const t=n.board_activity;return t.board=n.board,{...e,[t.id]:h(e[t.id],t)}}if(("BoardFeedResource"===a||"BoardSectionPinsResource"===a)&&("react_grid_pin_with_board_activity"===i.field_set_key||"partner_react_grid_pin_with_board_activity"===i.field_set_key)||"BoardActivityPinsFeedResource"===a){const t=(n||[]).reduce((t,n)=>{const a=n.board_activity;return a&&a.id&&(t[a.id]=h(e[a.id],a)),t},{});return{...e,...t}}}else{if("ACTIVITY_ITEM_CREATED"===t.type){const{payload:{activityItem:n}}=t;return{...e,[n.id]:n}}if("ACTIVITY_ITEM_DELETED"===t.type){const{payload:{activityId:n,activityType:a}}=t;if(a===l.BOARD_ACTIVITY_COMMENT||a===l.BOARD_ACTIVITY){const t={...e};return delete t[n],t}}else{if("ACTIVITY_ITEM_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:h(e[n.id],n)}}if("UPDATE_ACTIVITY_ITEM_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:a}}=t,i=e[a];if(i&&[l.BOARD_ACTIVITY_COMMENT,l.BOARD_ACTIVITY].includes(i.type)){const t={...i,comment_count:n?i.comment_count+1:i.comment_count-1};return{...e,[a]:t}}}else if("ACTIVITY_ITEM_UPDATE_REACTION_COUNT"===t.type){const{payload:{increment:n,id:a,reactionType:i}}=t,r=e[a]||{},{reaction_counts:o={}}=r,s=o[i]||0,c=n?s+1:Math.max(s-1,0),l=n?i:0,d={...r,reaction_counts:{...o,[i]:c},reaction_by_me:l};return{...e,[a]:d}}}}return e}},iS6d:function(e,t,n){var a=n("q1tI"),i=n.n(a);t.a=i.a.createContext(!1)},idmN:function(e,t,n){var a=n("ZWtO"),i=n("FZoo"),r=n("4uTw");e.exports=function(e,t,n){for(var o=-1,s=t.length,c={};++o<s;){var l=t[o],d=a(e,l);n(d,l)&&i(c,r(l,e),d)}return c}},lUXN:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),r=n("0rqB"),o=n("pLLR");function s({activate:e,children:t,isEligible:n,name:a}){return i.a.createElement(o.b,null,o=>i.a.createElement(r.a,{activate:e,activateExperiment:e=>o.experiments.v2ActivateExperiment(e)||"",group:o.experiments.v2GetGroup(a)||"",isEligible:n,name:a},t))}},nGHF:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n("1dBE");const{Provider:i,Consumer:r,useHook:o,HOC:s}=Object(a.a)("toastManagerContext")},oVol:function(e,t,n){n.d(t,"a",(function(){return a}));const a={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},pOug:function(e,t,n){t.a=function(e){return function(t){return null!=t?e(t):null}}},qWlA:function(e,t,n){var a=n("zpPL"),i=n("+PUW");t.a=e=>{const t=a.a.instance&&a.a.instance.getState()||{viewer:{}};return!t.viewer.isAuth||t.viewer.isLimitedLogin?e=>a.a.instance.dispatch(i.b):e}},"s+7V":function(e,t,n){var a=n("q1tI"),i=n.n(a),r=n("i8i4"),o=n.n(r);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new Map;let l=null;const d=e=>{e.forEach(e=>{const t=c.get(e.target);t&&t(e)})};t.a=e=>{class t extends a.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"flushTimeout",null),s(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),s(this,"leave",()=>{const e=this._node;e&&(e=>c.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),s(this,"observe",e=>{try{this._node=o.a.findDOMNode(this)}catch(a){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;((e,t="-64px 0px 0px 0px",n)=>{const a={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(d,a),c.set(e,n),l.observe(e)})(n,e,e=>{if(!c.has(n))return;const a=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,i=this.props.trackFullVisible?e.intersectionRatio>=1:a,r=this.props.trackFullVisible?0===e.intersectionRatio:!i;!this.seen&&i?this.enter(e):this.seen&&r&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{l.unobserve(e),c.delete(e)})(e))}render(){return i.a.createElement(e,this.props)}}return s(t,"displayName",`WithVisibilityChanged(${e.displayName||e.name})`),t}},uVIr:function(e,t,n){function a(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,"a",(function(){return a}))},udob:function(e,t,n){var a=n("LqyK"),i=n("eOdZ"),r=n("4dcN"),o=n("zwad"),s=n("mBfy");const c={};c.open=function(e,t,n){const a=function(e,t){const n=window.screen.width,a=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(a>t?Math.round((a-t)/2):0)}(t,n);window.open(e,void 0,a)},c.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,a=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),a=Math.max(a,0)),s.default.isAuthenticated()||(a=340),window.resizeBy(n,a)}(!1)};var l=c;const d={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";r.a.trackEvent(t,"click");const n=d._getWindowUrl(e.tweet_path,e.tweet_text);l.open(n,d.DIALOG_WIDTH,d.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>o.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?o.a.absolutify(e):void 0,text:t||void 0})};var u=d;const h={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),a=e.invite_channel,r=null==e.invite_category?3:e.invite_category,o=e.object_id;return i.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:r,invite_object:n,invite_channel:a},invite_code:t,object_id:o}).callCreate()},createAndLogShareInvite:e=>h.createShareInviteData(e).then(t=>(h._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,a=null==e.invite_category?3:e.invite_category,r=e.object_id;return i.a.create("CreateExternalInviteResource",{invite_type:{invite_category:a,invite_object:t,invite_channel:n},object_id:r}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))},logShareInvite(e,t){t&&h._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>h.createShareInviteData(e).then(t=>{const n=t.invite_url,i=t.invite_code;return n&&a.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&h._logShareInvite(e,i)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return h.createShareInviteData(e).then(n=>{const a=n.invite_url,i=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),a&&u.openDialog({tweet_path:a,tweet_text:r}),h._logShareInvite(e,i),Promise.resolve(n)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>h.createShareInviteData(e).then(t=>{const n=t.invite_url,i=t.invite_code;return n&&a.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&h._logShareInvite(e,i)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=h},vZlu:function(e,t,n){n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));const a=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function i(e){const{currentTime:t,isPromoted:n,pinId:a}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:a,isPromoted:n,currentTime:t}}}function r(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function o(e){const{currentTime:t,isPromoted:n,pinId:a}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:a,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}},w1Xl:function(e,t,n){n.d(t,"a",(function(){return d}));var a=n("q1tI"),i=n.n(a),r=n("Ye/N"),o=n("7w6Q"),s=n("eOdZ"),c=n("U4JR"),l=n("n6mq");function d(e){const{identifier:t,onUndoHide:n,isGroupChat:a}=e,d=async()=>{const a=s.a.create("ShareSuggestionsHideResource",{user_identifier:t});await a.callDelete(),n(),(()=>{const{component:t,element:n}=e;Object(c.a)(101,{component:t,element:n}),o.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return i.a.createElement(l.d,{paddingY:2},i.a.createElement(l.H,{gap:1},i.a.createElement(l.U,{inline:!0,color:"gray"},a?r.a._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):r.a._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")),i.a.createElement(l.e,{onClick:({event:e})=>{e.stopPropagation(),d()},text:r.a._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button",inline:!0})))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/64-5a43fa96dfa88bfe058d.mjs.map