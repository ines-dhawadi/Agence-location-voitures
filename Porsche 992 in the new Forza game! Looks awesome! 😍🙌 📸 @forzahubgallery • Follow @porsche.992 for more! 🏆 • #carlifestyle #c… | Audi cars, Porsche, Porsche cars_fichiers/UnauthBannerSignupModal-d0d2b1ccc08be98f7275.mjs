(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["UnauthBannerSignupModal"],{m58y:function(e,t,n){n.r(t),n.d(t,"UnauthBannerSignupModal",(function(){return f}));var i=n("q1tI"),a=n.n(i),o=n("/MKj"),l=n("Cufx"),r=n("iFas"),s=n("Ye/N"),c=n("2MPc"),d=n("ANjH"),u=n("28DW"),h=n("UPfj"),p=n("3fKP"),g=n("pLLR"),m=n("n6mq");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _={container:{background:"rgba(0,0,0,0.65)",transition:"height 0.5s cubic-bezier(0.26, 0.87, 0.74, 0.93)",WebkitTransition:"height 0.5s cubic-bezier(0.26, 0.87, 0.74, 0.93)",WebkitBackfaceVisibility:"hidden",zIndex:2},tieredVisibleWithScroll:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",visibility:"visible",opacity:1,height:"100%",display:"flex",overflow:"scroll"},tieredHidden:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",visibility:"hidden",opacity:0,height:"0"},fullScreenBanner:{bottom:"0px",color:"#fff",height:"100%",position:"fixed",left:"0px",width:"100%",zIndex:"680"},tieredFullPageSignup:{left:"50%",top:"50%",visibility:"visible",opacity:1,transition:"opacity 0.5s linear",margin:"auto"},tieredFullPageSignupHidden:{pointerEvents:"none",visibility:"hidden",opacity:0}};class f extends i.Component{constructor(e){super(e),b(this,"componentDidUpdate",e=>{const{bannerSize:t}=this.props,{bannerSize:n}=e;if("fullScreenBanner"!==n&&"fullScreenBanner"===t&&!Object(h.b)()){const e=this.getModalType(),t=this.props.hybridTier;Object(u.a)(`unauth_web_container.${r.a.INSPIRED_BANNER}.${t}.${e}.shown`)}"fullScreenBanner"===n&&"quarterScreenBanner"===t&&(c.a.logLoginSignupModalView(),Object(h.b)()||Object(h.e)())}),b(this,"getModalType",()=>this.props.signupSource===p.b.login?p.c.login:p.c.signupOrPersonalizedLogin),b(this,"handleCloseButtonClick",()=>{const e=this.getModalType();Object(u.a)("unauth.authentication_modal.x_button_click.NOT_NOW_BUTTON."+e),Object(u.e)("click_close_prompted_modal"),this.props.canClose&&this.props.handleDismissSignupModal()}),b(this,"handleCloseClick",()=>{this.props.canClose&&this.props.handleDismissSignupModal()}),b(this,"handleContentClick",e=>{e.stopPropagation()}),b(this,"handleContentKeyDown",e=>{const{bannerSize:t,canClose:n,handleDismissSignupModal:i}=this.props;if(27===e.keyCode){const e=this.getModalType();Object(u.a)("unauth.authentication_modal.esc_key_click.NOT_NOW_BUTTON."+e),n&&"fullScreenBanner"===t&&i&&(Object(u.a)("unauth.authentication_modal.esc_key_click.DISMISSED."+e),i())}}),b(this,"handleEmptySpaceClick",()=>{Object(u.a)("unauth.unauth_banner_signup_modal.default.empty_space_click"),this.props.canClose&&this.handleCloseClick()}),b(this,"_handleLoginClick",()=>{this.track("login"),Object(u.e)("press_banner_login"),this.props.onLoginClick()}),b(this,"_handleSignupClick",()=>{this.track("signup"),Object(u.e)("press_banner_signup"),this.props.onSignupClick()}),b(this,"track",e=>{Object(u.a)("unauth_hybrid_banner."+e)}),b(this,"isEligibleForInviterBanner",()=>{const{bannerSize:e,inviter:t}=this.props,n=!t||t.is_default_image;return t&&!n&&"quarterScreenBanner"===e}),b(this,"renderUpsellDisplayText",()=>{const{inviter:e}=this.props,t=s.a._("You are signed out","Heading on the bottom right upsell suggesting user is not signed in","Heading on the bottom right upsell suggesting user is not signed in"),n=s.a._("Sign in to get the best experience","Subheader value prop on the bottom right upsell","Subheader value prop on the bottom right upsell"),i=e?e.full_name:"",o=e?e.image_medium_url:"",r=e?e.first_name:"",c=r?s.a._("Join {{ name }} on Pinterest for more ideas","value prop on the bottom banner from sender ( {{ name }})","value prop on the bottom banner from sender ( {{ name }})").replace("{{ name }}",r):t,d=this.isEligibleForInviterBanner(),u=d?o:"",h=d?i:"";return d?a.a.createElement(m.d,{"data-test-id":"invite_banner",display:"flex",justifyContent:"between",alignItems:"center",direction:"column",alignContent:"center"},a.a.createElement(m.d,{marginBottom:4},a.a.createElement(l.a,{name:h,size:"sm",src:u,outline:!0})),a.a.createElement(m.d,{marginBottom:4},a.a.createElement(m.r,{overflow:"normal",size:"sm",align:"center"},c))):a.a.createElement(m.d,{marginBottom:6},a.a.createElement(m.d,{marginBottom:2},a.a.createElement(m.r,{overflow:"normal",size:"sm",align:"center"},c)),a.a.createElement(m.U,{overflow:"normal",align:"center"},n))}),b(this,"renderFloatingUpsell",e=>{const t=s.a._("Log in","Text on the button on the bottom banner that leads unauthorized users to login.","Text on the button on the bottom banner that leads unauthorized users to login."),n=s.a._("Sign up","sign up button on the bottom banner","sign up button on the bottom banner"),i=a.a.createElement(m.d,{display:"flex",direction:"row",justifyContent:"center",minWidth:"100%"},a.a.createElement(m.d,{marginEnd:2,"data-test-id":"loginButton"},a.a.createElement(m.e,{size:"md",text:t,onClick:this.handleLoginClick})),a.a.createElement(m.d,{"data-test-id":"signupButton"},a.a.createElement(m.e,{size:"md",text:n,color:"red",onClick:this.handleSignupClick})));return a.a.createElement(m.d,{"data-test-id":"bottomRightUpsell",alignItems:"center",bottom:!0,right:!0,direction:"column",display:"flex",color:"white",paddingX:8,paddingY:8,position:"fixed",rounding:6,marginBottom:6,marginRight:6,dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",transition:"all 0.3s ease-in-out",transform:e?"translateY(0)":"translateY(280px)",zIndex:"2"}}},a.a.createElement(m.d,{flex:"grow",maxWidth:220},this.renderUpsellDisplayText()),i)}),b(this,"render",()=>{const{bannerSize:e,canClose:t,fullPageSignup:n,inviter:i,signupSource:o,toggleType:l}=this.props,{styles:s}=this.state,c=n,d="fullScreenBanner"===e,u="quarterScreenBanner"===e,h=d?{...s.container,...s.fullScreenBanner}:{},p=d?s.tieredVisibleWithScroll:s.tieredHidden,g=this.getModalType(),m=d?s.tieredFullPageSignup:s.tieredFullPageSignupHidden;return a.a.createElement("div",{"data-test-id":"giftWrap",style:h,onKeyDown:this.handleContentKeyDown,role:"dialog"},this.renderFloatingUpsell(u),a.a.createElement("div",{"data-test-id":"fullBanner",style:p,onClick:this.handleEmptySpaceClick,role:"dialog"},a.a.createElement("div",{style:m,onClick:this.handleContentClick,role:"dialog"},a.a.createElement(c,{toggleType:l,container:r.a.INSPIRED_BANNER,darkSignupTitle:!0,delayedTitleRender:!d,signupSource:o,type:g,inviter:i,showCloseIcon:t,handleCloseButtonClick:this.handleCloseButtonClick}))))}),this.handleSignupClick=this._handleSignupClick.bind(this),this.handleLoginClick=this._handleLoginClick.bind(this),this.state={styles:_}}}t.default=Object(d.compose)(Object(o.connect)(e=>({userInfo:e.loggedOutUserInfo&&e.loggedOutUserInfo.userInfo?e.loggedOutUserInfo.userInfo:{}}),()=>({})),g.e)(f)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/UnauthBannerSignupModal-d0d2b1ccc08be98f7275.mjs.map